Class:IndexShard
Field:threadPool
Field:mapperService
Field:indexCache
Field:store
Field:internalIndexingStats
Field:searchStats
Field:getService
Field:shardWarmerService
Field:requestCacheStats
Field:shardFieldData
Field:shardBitsetFilterCache
Field:mutex
Field:checkIndexOnStartup
Field:codecService
Field:warmer
Field:similarityService
Field:translogConfig
Field:indexEventListener
Field:cachingPolicy
Field:indexSortSupplier
Field:circuitBreakerService
Field:searchOperationListener
Field:bulkOperationListener
Field:globalCheckpointListeners
Field:pendingReplicationActions
Field:replicationTracker
Field:shardRouting
Field:state
Field:postRecoveryMutex
Field:pendingPrimaryTerm
Field:engineMutex
Field:currentEngineReference
Field:engineFactory
Field:indexingOperationListeners
Field:globalCheckpointSyncer
Method-name:getGlobalCheckpointSyncer
Method-returnType:Runnable
Method-parameters:[]
Field:retentionLeaseSyncer
Field:recoveryState
Field:recoveryStats
Field:refreshMetric
Field:externalRefreshMetric
Field:flushMetric
Field:periodicFlushMetric
Field:shardEventListener
Field:path
Field:indexShardOperationPermits
Field:readAllowedStates
MethodInvocation:of
Field:writeAllowedStates
MethodInvocation:of
Field:readerWrapper
Field:active
Field:refreshListeners
Field:lastSearcherAccess
Field:pendingRefreshLocation
Field:refreshPendingLocationListener
Field:useRetentionLeasesInPeerRecovery
Method-name:IndexShard
Method-returnType:null
Method-parameters:[final ShardRouting shardRouting, final IndexSettings indexSettings, final ShardPath path, final Store store, final Supplier<Sort> indexSortSupplier, final IndexCache indexCache, final MapperService mapperService, final SimilarityService similarityService, final @Nullable EngineFactory engineFactory, final IndexEventListener indexEventListener, final CheckedFunction<DirectoryReader,DirectoryReader,IOException> indexReaderWrapper, final ThreadPool threadPool, final BigArrays bigArrays, final Engine.Warmer warmer, final List<SearchOperationListener> searchOperationListener, final List<IndexingOperationListener> listeners, final Runnable globalCheckpointSyncer, final RetentionLeaseSyncer retentionLeaseSyncer, final CircuitBreakerService circuitBreakerService]
Method-name:getThreadPool
Method-returnType:ThreadPool
Method-parameters:[]
FieldAccess:threadPool
Method-name:store
Method-returnType:Store
Method-parameters:[]
FieldAccess:store
Method-name:getIndexSort
Method-returnType:Sort
Method-parameters:[]
MethodInvocation:get
Method-name:getService
Method-returnType:ShardGetService
Method-parameters:[]
FieldAccess:getService
Method-name:shardBitsetFilterCache
Method-returnType:ShardBitsetFilterCache
Method-parameters:[]
Method-name:mapperService
Method-returnType:MapperService
Method-parameters:[]
Method-name:getSearchOperationListener
Method-returnType:SearchOperationListener
Method-parameters:[]
FieldAccess:searchOperationListener
Method-name:getBulkOperationListener
Method-returnType:BulkOperationListener
Method-parameters:[]
FieldAccess:bulkOperationListener
Method-name:warmerService
Method-returnType:ShardIndexWarmerService
Method-parameters:[]
FieldAccess:shardWarmerService
Method-name:requestCache
Method-returnType:ShardRequestCache
Method-parameters:[]
FieldAccess:requestCacheStats
Method-name:fieldData
Method-returnType:ShardFieldData
Method-parameters:[]
FieldAccess:shardFieldData
Method-name:getPendingPrimaryTerm
Method-returnType:long
Method-parameters:[]
FieldAccess:pendingPrimaryTerm
Method-name:getOperationPrimaryTerm
Method-returnType:long
Method-parameters:[]
MethodInvocation:getOperationPrimaryTerm
Method-name:routingEntry
Method-returnType:ShardRouting
Method-parameters:[]
FieldAccess:shardRouting
Method-name:getQueryCachingPolicy
Method-returnType:QueryCachingPolicy
Method-parameters:[]
Method-name:updateShardState
Method-returnType:void
Method-parameters:[final ShardRouting newRouting, final long newPrimaryTerm, final BiConsumer<IndexShard,ActionListener<ResyncTask>> primaryReplicaSyncer, final long applyingClusterStateVersion, final Set<String> inSyncAllocationIds, final IndexShardRoutingTable routingTable]
Method-name:markAsRecovering
Method-returnType:IndexShardState
Method-parameters:[String reason, RecoveryState recoveryState]
FieldAccess:recoveryState
MethodInvocation:changeState
Field:primaryReplicaResyncInProgress
Method-name:relocated
Method-returnType:void
Method-parameters:[final String targetAllocationId, final Consumer<ReplicationTracker.PrimaryContext> consumer]
Method-name:verifyRelocatingState
Method-returnType:void
Method-parameters:[]
MethodInvocation:relocating
MethodInvocation:get
Method-name:state
Method-returnType:IndexShardState
Method-parameters:[]
Method-name:changeState
Method-returnType:IndexShardState
Method-parameters:[IndexShardState newState, String reason]
Method-name:applyIndexOperationOnPrimary
Method-returnType:Engine.IndexResult
Method-parameters:[long version, VersionType versionType, SourceToParse sourceToParse, long ifSeqNo, long ifPrimaryTerm, long autoGeneratedTimestamp, boolean isRetry]
Method-name:applyIndexOperationOnReplica
Method-returnType:Engine.IndexResult
Method-parameters:[long seqNo, long opPrimaryTerm, long version, long autoGeneratedTimeStamp, boolean isRetry, SourceToParse sourceToParse]
MethodInvocation:applyIndexOperation
MethodInvocation:getEngine
Method-name:applyIndexOperation
Method-returnType:Engine.IndexResult
Method-parameters:[Engine engine, long seqNo, long opPrimaryTerm, long version, @Nullable VersionType versionType, long ifSeqNo, long ifPrimaryTerm, long autoGeneratedTimeStamp, boolean isRetry, Engine.Operation.Origin origin, SourceToParse sourceToParse]
Method-name:prepareIndex
Method-returnType:Engine.Index
Method-parameters:[DocumentMapperForType docMapper, SourceToParse source, long seqNo, long primaryTerm, long version, VersionType versionType, Engine.Operation.Origin origin, long autoGeneratedIdTimestamp, boolean isRetry, long ifSeqNo, long ifPrimaryTerm]
MethodInvocation:nanoTime
MethodInvocation:parse
MethodInvocation:getDocumentMapper
MethodInvocation:getMapping
MethodInvocation:addDynamicMappingsUpdate
MethodInvocation:getMapping
MethodInvocation:encodeId
MethodInvocation:id
Method-name:index
Method-returnType:Engine.IndexResult
Method-parameters:[Engine engine, Engine.Index index]
MethodInvocation:set
MethodInvocation:preIndex
MethodInvocation:isTraceEnabled
MethodInvocation:trace
MethodInvocation:id
MethodInvocation:seqNo
MethodInvocation:allocationId
MethodInvocation:routingEntry
MethodInvocation:primaryTerm
MethodInvocation:getOperationPrimaryTerm
MethodInvocation:origin
MethodInvocation:index
MethodInvocation:isTraceEnabled
MethodInvocation:trace
MethodInvocation:id
MethodInvocation:seqNo
MethodInvocation:allocationId
MethodInvocation:routingEntry
MethodInvocation:primaryTerm
MethodInvocation:getOperationPrimaryTerm
MethodInvocation:origin
MethodInvocation:getSeqNo
MethodInvocation:getTerm
MethodInvocation:getFailure
MethodInvocation:isTraceEnabled
MethodInvocation:trace
MethodInvocation:id
MethodInvocation:seqNo
MethodInvocation:allocationId
MethodInvocation:routingEntry
MethodInvocation:primaryTerm
MethodInvocation:getOperationPrimaryTerm
MethodInvocation:origin
MethodInvocation:postIndex
MethodInvocation:postIndex
Method-name:markSeqNoAsNoop
Method-returnType:Engine.NoOpResult
Method-parameters:[long seqNo, long opPrimaryTerm, String reason]
MethodInvocation:markSeqNoAsNoop
MethodInvocation:getEngine
Method-name:markSeqNoAsNoop
Method-returnType:Engine.NoOpResult
Method-parameters:[Engine engine, long seqNo, long opPrimaryTerm, String reason, Engine.Operation.Origin origin]
Method-name:noOp
Method-returnType:Engine.NoOpResult
Method-parameters:[Engine engine, Engine.NoOp noOp]
MethodInvocation:set
MethodInvocation:isTraceEnabled
MethodInvocation:trace
MethodInvocation:seqNo
MethodInvocation:noOp
Method-name:getFailedIndexResult
Method-returnType:Engine.IndexResult
Method-parameters:[Exception e, long version]
Method-name:getFailedDeleteResult
Method-returnType:Engine.DeleteResult
Method-parameters:[Exception e, long version]
MethodInvocation:getOperationPrimaryTerm
Method-name:applyDeleteOperationOnPrimary
Method-returnType:Engine.DeleteResult
Method-parameters:[long version, String id, VersionType versionType, long ifSeqNo, long ifPrimaryTerm]
Method-name:applyDeleteOperationOnReplica
Method-returnType:Engine.DeleteResult
Method-parameters:[long seqNo, long opPrimaryTerm, long version, String id]
MethodInvocation:applyDeleteOperation
MethodInvocation:getEngine
Method-name:applyDeleteOperation
Method-returnType:Engine.DeleteResult
Method-parameters:[Engine engine, long seqNo, long opPrimaryTerm, long version, String id, @Nullable VersionType versionType, long ifSeqNo, long ifPrimaryTerm, Engine.Operation.Origin origin]
Method-name:prepareDelete
Method-returnType:Engine.Delete
Method-parameters:[String id, Term uid, long seqNo, long primaryTerm, long version, VersionType versionType, Engine.Operation.Origin origin, long ifSeqNo, long ifPrimaryTerm]
MethodInvocation:nanoTime
Method-name:delete
Method-returnType:Engine.DeleteResult
Method-parameters:[Engine engine, Engine.Delete delete]
MethodInvocation:set
MethodInvocation:preDelete
MethodInvocation:isTraceEnabled
MethodInvocation:trace
MethodInvocation:text
MethodInvocation:uid
MethodInvocation:seqNo
MethodInvocation:delete
MethodInvocation:postDelete
MethodInvocation:postDelete
Method-name:get
Method-returnType:Engine.GetResult
Method-parameters:[Engine.Get get]
MethodInvocation:readAllowed
MethodInvocation:documentMapper
MethodInvocation:get
MethodInvocation:getEngine
Method-name:refresh
Method-returnType:void
Method-parameters:[String source]
MethodInvocation:verifyNotClosed
MethodInvocation:isTraceEnabled
MethodInvocation:trace
MethodInvocation:refresh
MethodInvocation:getEngine
Method-name:getWritingBytes
Method-returnType:long
Method-parameters:[]
MethodInvocation:getEngineOrNull
MethodInvocation:getWritingBytes
Method-name:refreshStats
Method-returnType:RefreshStats
Method-parameters:[]
MethodInvocation:pendingCount
MethodInvocation:count
MethodInvocation:toMillis
MethodInvocation:sum
MethodInvocation:count
MethodInvocation:toMillis
MethodInvocation:sum
Method-name:flushStats
Method-returnType:FlushStats
Method-parameters:[]
MethodInvocation:count
MethodInvocation:count
MethodInvocation:toMillis
MethodInvocation:sum
Method-name:docStats
Method-returnType:DocsStats
Method-parameters:[]
MethodInvocation:readAllowed
MethodInvocation:docStats
MethodInvocation:getEngine
Method-name:commitStats
Method-returnType:CommitStats
Method-parameters:[]
MethodInvocation:commitStats
MethodInvocation:getEngine
Method-name:seqNoStats
Method-returnType:SeqNoStats
Method-parameters:[]
MethodInvocation:getSeqNoStats
MethodInvocation:getEngine
MethodInvocation:getGlobalCheckpoint
Method-name:indexingStats
Method-returnType:IndexingStats
Method-parameters:[]
MethodInvocation:getEngineOrNull
MethodInvocation:isThrottled
MethodInvocation:getIndexThrottleTimeInMillis
MethodInvocation:stats
Method-name:searchStats
Method-returnType:SearchStats
Method-parameters:[String... groups]
MethodInvocation:stats
Method-name:getStats
Method-returnType:GetStats
Method-parameters:[]
MethodInvocation:stats
Method-name:storeStats
Method-returnType:StoreStats
Method-parameters:[]
MethodInvocation:stats
MethodInvocation:failShard
Method-name:mergeStats
Method-returnType:MergeStats
Method-parameters:[]
MethodInvocation:getEngineOrNull
MethodInvocation:getMergeStats
Method-name:segmentStats
Method-returnType:SegmentsStats
Method-parameters:[boolean includeSegmentFileSizes, boolean includeUnloadedSegments]
MethodInvocation:segmentsStats
MethodInvocation:getEngine
MethodInvocation:addBitsetMemoryInBytes
MethodInvocation:getMemorySizeInBytes
Method-name:warmerStats
Method-returnType:WarmerStats
Method-parameters:[]
MethodInvocation:stats
Method-name:fieldDataStats
Method-returnType:FieldDataStats
Method-parameters:[String... fields]
MethodInvocation:stats
Method-name:translogStats
Method-returnType:TranslogStats
Method-parameters:[]
MethodInvocation:getTranslogStats
MethodInvocation:getEngine
Method-name:completionStats
Method-returnType:CompletionStats
Method-parameters:[String... fields]
MethodInvocation:readAllowed
MethodInvocation:completionStats
MethodInvocation:getEngine
Method-name:bulkStats
Method-returnType:BulkStats
Method-parameters:[]
MethodInvocation:stats
Method-name:flush
Method-returnType:void
Method-parameters:[FlushRequest request]
MethodInvocation:waitIfOngoing
MethodInvocation:force
MethodInvocation:trace
MethodInvocation:verifyNotClosed
MethodInvocation:nanoTime
MethodInvocation:flush
MethodInvocation:getEngine
MethodInvocation:inc
MethodInvocation:nanoTime
Method-name:trimTranslog
Method-returnType:void
Method-parameters:[]
MethodInvocation:verifyNotClosed
MethodInvocation:getEngine
MethodInvocation:trimUnreferencedTranslogFiles
Method-name:rollTranslogGeneration
Method-returnType:void
Method-parameters:[]
MethodInvocation:getEngine
MethodInvocation:rollTranslogGeneration
Method-name:forceMerge
Method-returnType:void
Method-parameters:[ForceMergeRequest forceMerge]
MethodInvocation:verifyActive
MethodInvocation:isTraceEnabled
MethodInvocation:trace
MethodInvocation:getEngine
MethodInvocation:forceMerge
MethodInvocation:flush
MethodInvocation:maxNumSegments
MethodInvocation:onlyExpungeDeletes
MethodInvocation:forceMergeUUID
Method-name:upgrade
Method-returnType:org.apache.lucene.util.Version
Method-parameters:[UpgradeRequest upgrade]
MethodInvocation:verifyActive
MethodInvocation:isTraceEnabled
MethodInvocation:trace
MethodInvocation:minimumCompatibleVersion
MethodInvocation:getEngine
MethodInvocation:forceMerge
MethodInvocation:upgradeOnlyAncientSegments
MethodInvocation:minimumCompatibleVersion
MethodInvocation:isTraceEnabled
MethodInvocation:trace
Method-name:minimumCompatibleVersion
Method-returnType:org.apache.lucene.util.Version
Method-parameters:[]
MethodInvocation:segments
MethodInvocation:getEngine
MethodInvocation:onOrAfter
MethodInvocation:getVersion
MethodInvocation:getVersion
FieldAccess:luceneVersion
MethodInvocation:getIndexVersionCreated
Method-name:acquireLastIndexCommit
Method-returnType:Engine.IndexCommitRef
Method-parameters:[boolean flushFirst]
FieldAccess:state
MethodInvocation:acquireLastIndexCommit
MethodInvocation:getEngine
Method-name:acquireSafeIndexCommit
Method-returnType:Engine.IndexCommitRef
Method-parameters:[]
FieldAccess:state
MethodInvocation:acquireSafeIndexCommit
MethodInvocation:getEngine
Method-name:snapshotStoreMetadata
Method-returnType:Store.MetadataSnapshot
Method-parameters:[]
Method-name:failShard
Method-returnType:void
Method-parameters:[String reason, @Nullable Exception e]
MethodInvocation:failEngine
MethodInvocation:getEngine
Method-name:acquireCanMatchSearcher
Method-returnType:Engine.Searcher
Method-parameters:[]
MethodInvocation:readAllowed
MethodInvocation:markSearcherAccessed
MethodInvocation:acquireSearcher
MethodInvocation:getEngine
Method-name:acquireSearcher
Method-returnType:Engine.Searcher
Method-parameters:[String source]
MethodInvocation:acquireSearcher
Method-name:markSearcherAccessed
Method-returnType:void
Method-parameters:[]
MethodInvocation:lazySet
MethodInvocation:relativeTimeInMillis
Method-name:acquireSearcher
Method-returnType:Engine.Searcher
Method-parameters:[String source, Engine.SearcherScope scope]
MethodInvocation:readAllowed
MethodInvocation:markSearcherAccessed
MethodInvocation:getEngine
MethodInvocation:acquireSearcher
MethodInvocation:wrapSearcher
Method-name:wrapSearcher
Method-returnType:Engine.Searcher
Method-parameters:[Engine.Searcher searcher]
Method-name:wrapSearcher
Method-returnType:Engine.Searcher
Method-parameters:[Engine.Searcher engineSearcher, CheckedFunction<DirectoryReader,DirectoryReader,IOException> readerWrapper]
Method-name:maybeSyncTranslog
Method-returnType:void
Method-parameters:[GlobalCheckpointSyncAction globalCheckpointSyncAction]
MethodInvocation:getTranslogDurability
MethodInvocation:getLastSyncedGlobalCheckpoint
MethodInvocation:getLastKnownGlobalCheckpoint
MethodInvocation:sync
Class:NonClosingReaderWrapper
Method-name:NonClosingReaderWrapper
Method-returnType:null
Method-parameters:[DirectoryReader in]
Method-name:wrap
Method-returnType:LeafReader
Method-parameters:[LeafReader reader]
Method-name:doWrapDirectoryReader
Method-returnType:DirectoryReader
Method-parameters:[DirectoryReader in]
Method-name:doClose
Method-returnType:void
Method-parameters:[]
Method-name:getReaderCacheHelper
Method-returnType:CacheHelper
Method-parameters:[]
MethodInvocation:getReaderCacheHelper
Method-name:close
Method-returnType:void
Method-parameters:[String reason, boolean flushEngine]
MethodInvocation:changeState
MethodInvocation:getAndSet
FieldAccess:currentEngineReference
MethodInvocation:flushAndClose
MethodInvocation:close
MethodInvocation:close
Method-name:preRecovery
Method-returnType:void
Method-parameters:[]
Method-name:postRecovery
Method-returnType:void
Method-parameters:[String reason]
MethodInvocation:refresh
MethodInvocation:getEngine
MethodInvocation:setStage
MethodInvocation:changeState
Method-name:prepareForIndexRecovery
Method-returnType:void
Method-parameters:[]
Method-name:recoverLocallyUpToGlobalCheckpoint
Method-returnType:long
Method-parameters:[]
Method-name:trimOperationOfPreviousPrimaryTerms
Method-returnType:void
Method-parameters:[long aboveSeqNo]
MethodInvocation:trimOperationsFromTranslog
MethodInvocation:getEngine
MethodInvocation:getOperationPrimaryTerm
Method-name:getMaxSeenAutoIdTimestamp
Method-returnType:long
Method-parameters:[]
MethodInvocation:getMaxSeenAutoIdTimestamp
MethodInvocation:getEngine
Method-name:updateMaxUnsafeAutoIdTimestamp
Method-returnType:void
Method-parameters:[long maxSeenAutoIdTimestampFromPrimary]
MethodInvocation:updateMaxUnsafeAutoIdTimestamp
MethodInvocation:getEngine
Method-name:applyTranslogOperation
Method-returnType:Engine.Result
Method-parameters:[Translog.Operation operation, Engine.Operation.Origin origin]
MethodInvocation:applyTranslogOperation
MethodInvocation:getEngine
Method-name:applyTranslogOperation
Method-returnType:Engine.Result
Method-parameters:[Engine engine, Translog.Operation operation, Engine.Operation.Origin origin]
MethodInvocation:opType
MethodInvocation:applyIndexOperation
MethodInvocation:seqNo
MethodInvocation:primaryTerm
MethodInvocation:version
MethodInvocation:getAutoGeneratedIdTimestamp
MethodInvocation:getIndexName
MethodInvocation:id
MethodInvocation:source
MethodInvocation:xContentType
MethodInvocation:source
MethodInvocation:routing
MethodInvocation:applyDeleteOperation
MethodInvocation:seqNo
MethodInvocation:primaryTerm
MethodInvocation:version
MethodInvocation:id
MethodInvocation:markSeqNoAsNoop
MethodInvocation:seqNo
MethodInvocation:primaryTerm
MethodInvocation:reason
Method-name:runTranslogRecovery
Method-returnType:int
Method-parameters:[Engine engine, Translog.Snapshot snapshot, Engine.Operation.Origin origin, Runnable onOperationRecovered]
MethodInvocation:next
MethodInvocation:trace
MethodInvocation:applyTranslogOperation
MethodInvocation:getResultType
MethodInvocation:getFailure
MethodInvocation:getRequiredMappingUpdate
MethodInvocation:getResultType
MethodInvocation:run
MethodInvocation:status
MethodInvocation:info
MethodInvocation:convertToRuntime
Method-name:loadGlobalCheckpointToReplicationTracker
Method-returnType:void
Method-parameters:[]
MethodInvocation:get
MethodInvocation:getUserData
MethodInvocation:readLastCommittedSegmentsInfo
MethodInvocation:readGlobalCheckpoint
MethodInvocation:getTranslogPath
MethodInvocation:updateGlobalCheckpointOnReplica
Method-name:openEngineAndRecoverFromTranslog
Method-returnType:void
Method-parameters:[]
Method-name:openEngineAndSkipTranslogRecovery
Method-returnType:void
Method-parameters:[]
Method-name:innerOpenEngineAndTranslog
Method-returnType:void
Method-parameters:[LongSupplier globalCheckpointSupplier]
Method-name:assertSequenceNumbersInCommit
Method-returnType:boolean
Method-parameters:[]
Method-name:onNewEngine
Method-returnType:void
Method-parameters:[Engine newEngine]
Method-name:performRecoveryRestart
Method-returnType:void
Method-parameters:[]
Method-name:resetRecoveryStage
Method-returnType:void
Method-parameters:[]
Method-name:recoveryStats
Method-returnType:RecoveryStats
Method-parameters:[]
Method-name:recoveryState
Method-returnType:RecoveryState
Method-parameters:[]
FieldAccess:recoveryState
Method-name:finalizeRecovery
Method-returnType:void
Method-parameters:[]
MethodInvocation:setStage
MethodInvocation:recoveryState
MethodInvocation:getEngine
MethodInvocation:refresh
MethodInvocation:setEnableGcDeletes
MethodInvocation:config
Method-name:ignoreRecoveryAttempt
Method-returnType:boolean
Method-parameters:[]
MethodInvocation:state
Method-name:readAllowed
Method-returnType:void
Method-parameters:[]
FieldAccess:state
MethodInvocation:contains
MethodInvocation:toString
Method-name:isReadAllowed
Method-returnType:boolean
Method-parameters:[]
MethodInvocation:contains
Method-name:ensureWriteAllowed
Method-returnType:void
Method-parameters:[Engine.Operation.Origin origin]
Method-name:assertPrimaryMode
Method-returnType:boolean
Method-parameters:[]
Method-name:assertReplicationTarget
Method-returnType:boolean
Method-parameters:[]
Method-name:verifyNotClosed
Method-returnType:void
Method-parameters:[]
MethodInvocation:verifyNotClosed
Method-name:verifyNotClosed
Method-returnType:void
Method-parameters:[Exception suppressed]
FieldAccess:state
MethodInvocation:addSuppressed
Method-name:verifyActive
Method-returnType:void
Method-parameters:[]
FieldAccess:state
Method-name:getIndexBufferRAMBytesUsed
Method-returnType:long
Method-parameters:[]
MethodInvocation:getEngineOrNull
MethodInvocation:getIndexBufferRAMBytesUsed
Method-name:addShardFailureCallback
Method-returnType:void
Method-parameters:[Consumer<ShardFailure> onShardFailure]
MethodInvocation:add
FieldAccess:delegates
FieldAccess:shardEventListener
Method-name:flushOnIdle
Method-returnType:void
Method-parameters:[long inactiveTimeNS]
MethodInvocation:getEngineOrNull
MethodInvocation:nanoTime
MethodInvocation:getLastWriteNanos
MethodInvocation:getAndSet
MethodInvocation:debug
MethodInvocation:execute
MethodInvocation:executor
Method-name:onFailure
Method-returnType:void
Method-parameters:[Exception e]
MethodInvocation:warn
Method-name:doRun
Method-returnType:void
Method-parameters:[]
MethodInvocation:flush
MethodInvocation:force
MethodInvocation:waitIfOngoing
MethodInvocation:inc
Method-name:isActive
Method-returnType:boolean
Method-parameters:[]
MethodInvocation:get
Method-name:shardPath
Method-returnType:ShardPath
Method-parameters:[]
Method-name:recoverFromLocalShards
Method-returnType:void
Method-parameters:[Consumer<MappingMetadata> mappingUpdateConsumer, List<IndexShard> localShards, ActionListener<Boolean> listener]
Method-name:recoverFromStore
Method-returnType:void
Method-parameters:[ActionListener<Boolean> listener]
Method-name:restoreFromRepository
Method-returnType:void
Method-parameters:[Repository repository, ActionListener<Boolean> listener]
Method-name:shouldPeriodicallyFlush
Method-returnType:boolean
Method-parameters:[]
MethodInvocation:getEngineOrNull
MethodInvocation:shouldPeriodicallyFlush
Method-name:shouldRollTranslogGeneration
Method-returnType:boolean
Method-parameters:[]
MethodInvocation:getEngineOrNull
MethodInvocation:shouldRollTranslogGeneration
Method-name:onSettingsChanged
Method-returnType:void
Method-parameters:[]
MethodInvocation:getEngineOrNull
MethodInvocation:onSettingsChanged
Method-name:acquireHistoryRetentionLock
Method-returnType:Closeable
Method-parameters:[]
MethodInvocation:acquireHistoryRetentionLock
MethodInvocation:getEngine
Method-name:hasCompleteHistoryOperations
Method-returnType:boolean
Method-parameters:[String reason, long startingSeqNo]
MethodInvocation:hasCompleteOperationHistory
MethodInvocation:getEngine
Method-name:getMinRetainedSeqNo
Method-returnType:long
Method-parameters:[]
MethodInvocation:getMinRetainedSeqNo
MethodInvocation:getEngine
Method-name:newChangesSnapshot
Method-returnType:Translog.Snapshot
Method-parameters:[String source, long fromSeqNo, long toSeqNo, boolean requiredFullRange]
MethodInvocation:newChangesSnapshot
MethodInvocation:getEngine
Method-name:segments
Method-returnType:List<Segment>
Method-parameters:[boolean verbose]
MethodInvocation:segments
MethodInvocation:getEngine
Method-name:getHistoryUUID
Method-returnType:String
Method-parameters:[]
MethodInvocation:getHistoryUUID
MethodInvocation:getEngine
Method-name:getIndexEventListener
Method-returnType:IndexEventListener
Method-parameters:[]
Method-name:activateThrottling
Method-returnType:void
Method-parameters:[]
MethodInvocation:activateThrottling
MethodInvocation:getEngine
Method-name:deactivateThrottling
Method-returnType:void
Method-parameters:[]
MethodInvocation:deactivateThrottling
MethodInvocation:getEngine
Method-name:handleRefreshException
Method-returnType:void
Method-parameters:[Exception e]
MethodInvocation:getCause
MethodInvocation:getCause
MethodInvocation:getCause
MethodInvocation:warn
MethodInvocation:warn
Method-name:writeIndexingBuffer
Method-returnType:void
Method-parameters:[]
MethodInvocation:getEngine
MethodInvocation:writeIndexingBuffer
MethodInvocation:handleRefreshException
Method-name:updateLocalCheckpointForShard
Method-returnType:void
Method-parameters:[final String allocationId, final long checkpoint]
Method-name:updateGlobalCheckpointForShard
Method-returnType:void
Method-parameters:[final String allocationId, final long globalCheckpoint]
Method-name:addGlobalCheckpointListener
Method-returnType:void
Method-parameters:[final long waitingForGlobalCheckpoint, final GlobalCheckpointListeners.GlobalCheckpointListener listener, final TimeValue timeout]
MethodInvocation:add
FieldAccess:globalCheckpointListeners
Method-name:ensureSoftDeletesEnabled
Method-returnType:void
Method-parameters:[String feature]
Method-name:getRetentionLeases
Method-returnType:RetentionLeases
Method-parameters:[]
MethodInvocation:v2
MethodInvocation:getRetentionLeases
Method-name:getRetentionLeases
Method-returnType:Tuple<Boolean,RetentionLeases>
Method-parameters:[final boolean expireLeases]
Method-name:getRetentionLeaseStats
Method-returnType:RetentionLeaseStats
Method-parameters:[]
MethodInvocation:verifyNotClosed
MethodInvocation:getRetentionLeases
Method-name:addRetentionLease
Method-returnType:RetentionLease
Method-parameters:[final String id, final long retainingSequenceNumber, final String source, final ActionListener<ReplicationResponse> listener]
Method-name:renewRetentionLease
Method-returnType:RetentionLease
Method-parameters:[final String id, final long retainingSequenceNumber, final String source]
Method-name:removeRetentionLease
Method-returnType:void
Method-parameters:[final String id, final ActionListener<ReplicationResponse> listener]
Method-name:updateRetentionLeasesOnReplica
Method-returnType:void
Method-parameters:[final RetentionLeases retentionLeases]
Method-name:loadRetentionLeases
Method-returnType:RetentionLeases
Method-parameters:[]
MethodInvocation:verifyNotClosed
MethodInvocation:loadRetentionLeases
MethodInvocation:getShardStatePath
Method-name:persistRetentionLeases
Method-returnType:void
Method-parameters:[]
MethodInvocation:verifyNotClosed
MethodInvocation:persistRetentionLeases
MethodInvocation:getShardStatePath
Method-name:assertRetentionLeasesPersisted
Method-returnType:boolean
Method-parameters:[]
MethodInvocation:assertRetentionLeasesPersisted
MethodInvocation:getShardStatePath
Method-name:syncRetentionLeases
Method-returnType:void
Method-parameters:[]
Method-name:initiateTracking
Method-returnType:void
Method-parameters:[final String allocationId]
Method-name:markAllocationIdAsInSync
Method-returnType:void
Method-parameters:[final String allocationId, final long localCheckpoint]
Method-name:getLocalCheckpoint
Method-returnType:long
Method-parameters:[]
MethodInvocation:getPersistedLocalCheckpoint
MethodInvocation:getEngine
Method-name:getLastKnownGlobalCheckpoint
Method-returnType:long
Method-parameters:[]
MethodInvocation:getGlobalCheckpoint
Method-name:getLastSyncedGlobalCheckpoint
Method-returnType:long
Method-parameters:[]
MethodInvocation:getLastSyncedGlobalCheckpoint
MethodInvocation:getEngine
Method-name:getInSyncGlobalCheckpoints
Method-returnType:ObjectLongMap<String>
Method-parameters:[]
Method-name:maybeSyncGlobalCheckpoint
Method-returnType:void
Method-parameters:[final String reason]
Method-name:getReplicationGroup
Method-returnType:ReplicationGroup
Method-parameters:[]
Method-name:getPendingReplicationActions
Method-returnType:PendingReplicationActions
Method-parameters:[]
Method-name:updateGlobalCheckpointOnReplica
Method-returnType:void
Method-parameters:[final long globalCheckpoint, final String reason]
Method-name:activateWithPrimaryContext
Method-returnType:void
Method-parameters:[final ReplicationTracker.PrimaryContext primaryContext]
Method-name:ensurePeerRecoveryRetentionLeasesExist
Method-returnType:void
Method-parameters:[]
MethodInvocation:execute
MethodInvocation:generic
MethodInvocation:createMissingPeerRecoveryRetentionLeases
MethodInvocation:wrap
MethodInvocation:trace
MethodInvocation:debug
Method-name:pendingInSync
Method-returnType:boolean
Method-parameters:[]
Method-name:noopUpdate
Method-returnType:void
Method-parameters:[]
MethodInvocation:noopUpdate
Method-name:maybeCheckIndex
Method-returnType:void
Method-parameters:[]
MethodInvocation:setStage
MethodInvocation:isTrue
MethodInvocation:equals
MethodInvocation:checkIndex
Method-name:checkIndex
Method-returnType:void
Method-parameters:[]
MethodInvocation:tryIncRef
MethodInvocation:doCheckIndex
MethodInvocation:markStoreCorrupted
MethodInvocation:decRef
Method-name:doCheckIndex
Method-returnType:void
Method-parameters:[]
MethodInvocation:nanoTime
MethodInvocation:indexExists
MethodInvocation:directory
MethodInvocation:name
MethodInvocation:equals
MethodInvocation:snapshotStoreMetadata
MethodInvocation:entrySet
MethodInvocation:asMap
MethodInvocation:checkIntegrity
MethodInvocation:getValue
MethodInvocation:directory
MethodInvocation:println
MethodInvocation:getKey
MethodInvocation:println
MethodInvocation:getKey
MethodInvocation:printStackTrace
MethodInvocation:flush
MethodInvocation:warn
MethodInvocation:utf8ToString
MethodInvocation:bytes
MethodInvocation:checkIndex
MethodInvocation:flush
MethodInvocation:warn
MethodInvocation:utf8ToString
MethodInvocation:bytes
MethodInvocation:isDebugEnabled
MethodInvocation:debug
MethodInvocation:utf8ToString
MethodInvocation:bytes
MethodInvocation:checkIndexTime
MethodInvocation:getVerifyIndex
MethodInvocation:max
MethodInvocation:nsecToMSec
MethodInvocation:nanoTime
Method-name:getEngine
Method-returnType:Engine
Method-parameters:[]
MethodInvocation:getEngineOrNull
Method-name:getEngineOrNull
Method-returnType:Engine
Method-parameters:[]
MethodInvocation:get
FieldAccess:currentEngineReference
Method-name:startRecovery
Method-returnType:void
Method-parameters:[RecoveryState recoveryState, PeerRecoveryTargetService recoveryTargetService, PeerRecoveryTargetService.RecoveryListener recoveryListener, RepositoriesService repositoriesService, Consumer<MappingMetadata> mappingUpdateConsumer, IndicesService indicesService]
Method-name:executeRecovery
Method-returnType:void
Method-parameters:[String reason, RecoveryState recoveryState, PeerRecoveryTargetService.RecoveryListener recoveryListener, CheckedConsumer<ActionListener<Boolean>,Exception> action]
MethodInvocation:markAsRecovering
MethodInvocation:execute
MethodInvocation:generic
MethodInvocation:wrap
MethodInvocation:wrap
MethodInvocation:onRecoveryDone
MethodInvocation:onRecoveryFailure
Method-name:isRelocatedPrimary
Method-returnType:boolean
Method-parameters:[]
Method-name:addPeerRecoveryRetentionLease
Method-returnType:RetentionLease
Method-parameters:[String nodeId, long globalCheckpoint, ActionListener<ReplicationResponse> listener]
Method-name:cloneLocalPeerRecoveryRetentionLease
Method-returnType:RetentionLease
Method-parameters:[String nodeId, ActionListener<ReplicationResponse> listener]
Method-name:removePeerRecoveryRetentionLease
Method-returnType:void
Method-parameters:[String nodeId, ActionListener<ReplicationResponse> listener]
Method-name:getPeerRecoveryRetentionLeases
Method-returnType:List<RetentionLease>
Method-parameters:[]
MethodInvocation:getPeerRecoveryRetentionLeases
Method-name:useRetentionLeasesInPeerRecovery
Method-returnType:boolean
Method-parameters:[]
Method-name:getSafeCommitInfo
Method-returnType:SafeCommitInfo
Method-parameters:[]
MethodInvocation:getEngineOrNull
MethodInvocation:getSafeCommitInfo
Class:ShardEventListener
Field:delegates
Method-name:onFailedEngine
Method-returnType:void
Method-parameters:[String reason, @Nullable Exception failure]
MethodInvocation:accept
MethodInvocation:addSuppressed
MethodInvocation:warn
Method-name:persistMetadata
Method-returnType:void
Method-parameters:[final ShardPath shardPath, final IndexSettings indexSettings, final ShardRouting newRouting, final @Nullable ShardRouting currentRouting, final Logger logger]
Method-name:docMapper
Method-returnType:DocumentMapperForType
Method-parameters:[]
MethodInvocation:documentMapperWithAutoCreate
Method-name:newEngineConfig
Method-returnType:EngineConfig
Method-parameters:[LongSupplier globalCheckpointSupplier]
Method-name:acquirePrimaryOperationPermit
Method-returnType:void
Method-parameters:[ActionListener<Releasable> onPermitAcquired, String executorOnDelay, Object debugInfo]
Method-name:acquireAllPrimaryOperationsPermits
Method-returnType:void
Method-parameters:[final ActionListener<Releasable> onPermitAcquired, final TimeValue timeout]
Method-name:wrapPrimaryOperationPermitListener
Method-returnType:ActionListener<Releasable>
Method-parameters:[final ActionListener<Releasable> listener]
MethodInvocation:delegateFailure
MethodInvocation:isPrimaryMode
MethodInvocation:onResponse
MethodInvocation:close
MethodInvocation:onFailure
Method-name:asyncBlockOperations
Method-returnType:void
Method-parameters:[ActionListener<Releasable> onPermitAcquired, long timeout, TimeUnit timeUnit]
MethodInvocation:forceRefreshes
MethodInvocation:wrap
MethodInvocation:close
MethodInvocation:onResponse
MethodInvocation:close
MethodInvocation:onFailure
MethodInvocation:asyncBlockOperations
MethodInvocation:close
Method-name:runUnderPrimaryPermit
Method-returnType:void
Method-parameters:[final Runnable runnable, final Consumer<Exception> onFailure, final String executorOnDelay, final Object debugInfo]
Method-name:bumpPrimaryTerm
Method-returnType:void
Method-parameters:[final long newPrimaryTerm, final CheckedRunnable<E> onBlocked, @Nullable ActionListener<Releasable> combineWithAction]
Method-name:acquireReplicaOperationPermit
Method-returnType:void
Method-parameters:[final long opPrimaryTerm, final long globalCheckpoint, final long maxSeqNoOfUpdatesOrDeletes, final ActionListener<Releasable> onPermitAcquired, final String executorOnDelay, final Object debugInfo]
MethodInvocation:innerAcquireReplicaOperationPermit
MethodInvocation:acquire
Method-name:acquireAllReplicaOperationsPermits
Method-returnType:void
Method-parameters:[final long opPrimaryTerm, final long globalCheckpoint, final long maxSeqNoOfUpdatesOrDeletes, final ActionListener<Releasable> onPermitAcquired, final TimeValue timeout]
MethodInvocation:innerAcquireReplicaOperationPermit
MethodInvocation:asyncBlockOperations
MethodInvocation:duration
MethodInvocation:timeUnit
Method-name:innerAcquireReplicaOperationPermit
Method-returnType:void
Method-parameters:[final long opPrimaryTerm, final long globalCheckpoint, final long maxSeqNoOfUpdatesOrDeletes, final ActionListener<Releasable> onPermitAcquired, final boolean allowCombineOperationWithPrimaryTermUpdate, final Consumer<ActionListener<Releasable>> operationExecutor]
Method-name:requirePrimaryTermUpdate
Method-returnType:boolean
Method-parameters:[final long opPrimaryTerm, final boolean allPermits]
MethodInvocation:getOperationPrimaryTerm
Field:OPERATIONS_BLOCKED
Method-name:getActiveOperationsCount
Method-returnType:int
Method-parameters:[]
MethodInvocation:getActiveOperationsCount
Method-name:getActiveOperations
Method-returnType:List<String>
Method-parameters:[]
MethodInvocation:getActiveOperations
Field:translogSyncProcessor
Method-name:createTranslogSyncProcessor
Method-returnType:AsyncIOProcessor<Translog.Location>
Method-parameters:[Logger logger, ThreadContext threadContext, Supplier<Engine> engineSupplier]
Method-name:write
Method-returnType:void
Method-parameters:[List<Tuple<Translog.Location,Consumer<Exception>>> candidates]
MethodInvocation:ensureTranslogSynced
MethodInvocation:get
MethodInvocation:map
MethodInvocation:stream
MethodInvocation:debug
Method-name:sync
Method-returnType:void
Method-parameters:[Translog.Location location, Consumer<Exception> syncListener]
MethodInvocation:verifyNotClosed
MethodInvocation:put
Method-name:sync
Method-returnType:void
Method-parameters:[]
MethodInvocation:verifyNotClosed
MethodInvocation:syncTranslog
MethodInvocation:getEngine
Method-name:isSyncNeeded
Method-returnType:boolean
Method-parameters:[]
MethodInvocation:isTranslogSyncNeeded
MethodInvocation:getEngine
Method-name:getTranslogDurability
Method-returnType:Translog.Durability
Method-parameters:[]
MethodInvocation:getTranslogDurability
Field:flushOrRollRunning
Method-name:afterWriteOperation
Method-returnType:void
Method-parameters:[]
MethodInvocation:shouldPeriodicallyFlush
MethodInvocation:shouldRollTranslogGeneration
MethodInvocation:compareAndSet
MethodInvocation:shouldPeriodicallyFlush
MethodInvocation:debug
Method-name:onFailure
Method-returnType:void
Method-parameters:[final Exception e]
MethodInvocation:warn
Method-name:doRun
Method-returnType:void
Method-parameters:[]
MethodInvocation:flush
MethodInvocation:inc
Method-name:onAfter
Method-returnType:void
Method-parameters:[]
MethodInvocation:compareAndSet
MethodInvocation:afterWriteOperation
MethodInvocation:execute
MethodInvocation:executor
MethodInvocation:shouldRollTranslogGeneration
MethodInvocation:debug
Method-name:onFailure
Method-returnType:void
Method-parameters:[final Exception e]
MethodInvocation:warn
Method-name:doRun
Method-returnType:void
Method-parameters:[]
MethodInvocation:rollTranslogGeneration
Method-name:onAfter
Method-returnType:void
Method-parameters:[]
MethodInvocation:compareAndSet
MethodInvocation:afterWriteOperation
MethodInvocation:execute
MethodInvocation:executor
MethodInvocation:compareAndSet
Method-name:buildRefreshListeners
Method-returnType:RefreshListeners
Method-parameters:[]
MethodInvocation:refresh
MethodInvocation:getThreadContext
Class:ShardFailure
Field:routing
Field:reason
Field:cause
Method-name:ShardFailure
Method-returnType:null
Method-parameters:[ShardRouting routing, String reason, @Nullable Exception cause]
FieldAccess:routing
FieldAccess:reason
FieldAccess:cause
Method-name:getEngineFactory
Method-returnType:EngineFactory
Method-parameters:[]
Method-name:getReplicationTracker
Method-returnType:ReplicationTracker
Method-parameters:[]
Method-name:scheduledRefresh
Method-returnType:boolean
Method-parameters:[]
MethodInvocation:verifyNotClosed
MethodInvocation:refreshNeeded
MethodInvocation:isReadAllowed
MethodInvocation:refreshNeeded
MethodInvocation:getEngine
MethodInvocation:isSearchIdle
MethodInvocation:isExplicitRefresh
MethodInvocation:get
MethodInvocation:getEngine
MethodInvocation:maybePruneDeletes
MethodInvocation:setRefreshPending
MethodInvocation:isTraceEnabled
MethodInvocation:trace
MethodInvocation:maybeRefresh
MethodInvocation:getEngine
MethodInvocation:getEngine
MethodInvocation:maybePruneDeletes
Method-name:isSearchIdle
Method-returnType:boolean
Method-parameters:[]
MethodInvocation:relativeTimeInMillis
MethodInvocation:get
MethodInvocation:getMillis
MethodInvocation:getSearchIdleAfter
Method-name:getLastSearcherAccess
Method-returnType:long
Method-parameters:[]
MethodInvocation:get
Method-name:hasRefreshPending
Method-returnType:boolean
Method-parameters:[]
MethodInvocation:get
Method-name:setRefreshPending
Method-returnType:void
Method-parameters:[Engine engine]
MethodInvocation:getTranslogLastWriteLocation
MethodInvocation:updateAndGet
MethodInvocation:compareTo
Class:RefreshPendingLocationListener
Field:lastWriteLocation
Method-name:beforeRefresh
Method-returnType:void
Method-parameters:[]
MethodInvocation:getTranslogLastWriteLocation
MethodInvocation:getEngine
Method-name:afterRefresh
Method-returnType:void
Method-parameters:[boolean didRefresh]
MethodInvocation:updateAndGet
MethodInvocation:compareTo
Method-name:awaitShardSearchActive
Method-returnType:void
Method-parameters:[Consumer<Boolean> listener]
MethodInvocation:markSearcherAccessed
MethodInvocation:get
MethodInvocation:addRefreshListener
MethodInvocation:compareAndSet
MethodInvocation:accept
MethodInvocation:accept
Method-name:addRefreshListener
Method-returnType:void
Method-parameters:[Translog.Location location, Consumer<Boolean> listener]
MethodInvocation:isReadAllowed
MethodInvocation:isReadAllowed
MethodInvocation:addOrNotify
MethodInvocation:accept
Class:RefreshMetricUpdater
Field:refreshMetric
Field:currentRefreshStartTime
Field:callingThread
Method-name:RefreshMetricUpdater
Method-returnType:null
Method-parameters:[MeanMetric refreshMetric]
FieldAccess:refreshMetric
Method-name:beforeRefresh
Method-returnType:void
Method-parameters:[]
Method-name:afterRefresh
Method-returnType:void
Method-parameters:[boolean didRefresh]
Method-name:tombstoneDocSupplier
Method-returnType:EngineConfig.TombstoneDocSupplier
Method-parameters:[]
MethodInvocation:build
Method-name:newDeleteTombstoneDoc
Method-returnType:ParsedDocument
Method-parameters:[String id]
MethodInvocation:createDeleteTombstoneDoc
MethodInvocation:getDocumentMapper
MethodInvocation:docMapper
MethodInvocation:getIndexName
Method-name:newNoopTombstoneDoc
Method-returnType:ParsedDocument
Method-parameters:[String reason]
MethodInvocation:createNoopTombstoneDoc
MethodInvocation:getIndexName
Method-name:resetEngineToGlobalCheckpoint
Method-returnType:void
Method-parameters:[]
Method-name:getMaxSeqNoOfUpdatesOrDeletes
Method-returnType:long
Method-parameters:[]
MethodInvocation:getMaxSeqNoOfUpdatesOrDeletes
MethodInvocation:getEngine
Method-name:advanceMaxSeqNoOfUpdatesOrDeletes
Method-returnType:void
Method-parameters:[long seqNo]
MethodInvocation:advanceMaxSeqNoOfUpdatesOrDeletes
MethodInvocation:getEngine
Method-name:verifyShardBeforeIndexClosing
Method-returnType:void
Method-parameters:[]
MethodInvocation:verifyEngineBeforeIndexClosing
MethodInvocation:getEngine
Method-name:getRetentionLeaseSyncer
Method-returnType:RetentionLeaseSyncer
Method-parameters:[]
