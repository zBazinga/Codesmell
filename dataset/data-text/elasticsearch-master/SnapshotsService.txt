Class:SnapshotsService
Field:SHARD_GEN_IN_REPO_DATA_VERSION
Field:OLD_SNAPSHOT_FORMAT
Field:MULTI_DELETE_VERSION
Field:logger
MethodInvocation:getLogger
Field:UPDATE_SNAPSHOT_STATUS_ACTION_NAME
Field:clusterService
Field:indexNameExpressionResolver
Field:repositoriesService
Field:threadPool
Field:snapshotCompletionListeners
Field:endingSnapshots
MethodInvocation:synchronizedSet
Field:snapshotStateExecutor
Field:updateSnapshotStatusHandler
Field:transportService
Method-name:SnapshotsService
Method-returnType:null
Method-parameters:[Settings settings, ClusterService clusterService, IndexNameExpressionResolver indexNameExpressionResolver, RepositoriesService repositoriesService, TransportService transportService, ActionFilters actionFilters]
FieldAccess:clusterService
FieldAccess:indexNameExpressionResolver
FieldAccess:repositoriesService
FieldAccess:threadPool
MethodInvocation:getThreadPool
FieldAccess:transportService
FieldAccess:updateSnapshotStatusHandler
MethodInvocation:isMasterNode
MethodInvocation:addLowPriorityApplier
Method-name:executeSnapshot
Method-returnType:void
Method-parameters:[final CreateSnapshotRequest request, final ActionListener<SnapshotInfo> listener]
MethodInvocation:createSnapshot
MethodInvocation:wrap
MethodInvocation:addListener
MethodInvocation:map
Method-name:createSnapshot
Method-returnType:void
Method-parameters:[final CreateSnapshotRequest request, final ActionListener<Snapshot> listener]
MethodInvocation:repository
MethodInvocation:resolveDateMathExpression
MethodInvocation:snapshot
MethodInvocation:validate
MethodInvocation:randomBase64UUID
MethodInvocation:repository
MethodInvocation:repository
MethodInvocation:isReadOnly
MethodInvocation:onFailure
MethodInvocation:name
MethodInvocation:getMetadata
MethodInvocation:adaptUserMetadata
MethodInvocation:userMetadata
MethodInvocation:executeConsistentStateUpdate
Field:newEntry
Method-name:execute
Method-returnType:ClusterState
Method-parameters:[ClusterState currentState]
MethodInvocation:anyMatch
MethodInvocation:stream
MethodInvocation:getSnapshotIds
MethodInvocation:equals
MethodInvocation:getName
MethodInvocation:name
MethodInvocation:getMetadata
MethodInvocation:validate
MethodInvocation:custom
MethodInvocation:hasDeletionsInProgress
MethodInvocation:custom
MethodInvocation:hasCleanupInProgress
MethodInvocation:custom
MethodInvocation:anyMatch
MethodInvocation:stream
MethodInvocation:entries
MethodInvocation:state
MethodInvocation:asList
MethodInvocation:concreteIndexNames
MethodInvocation:indicesOptions
MethodInvocation:indices
MethodInvocation:trace
MethodInvocation:resolveNewIndices
MethodInvocation:minCompatibleVersion
MethodInvocation:getMinNodeVersion
MethodInvocation:nodes
MethodInvocation:state
MethodInvocation:shards
MethodInvocation:useShardGenerations
MethodInvocation:partial
MethodInvocation:state
MethodInvocation:add
MethodInvocation:getName
MethodInvocation:getIndex
MethodInvocation:isEmpty
MethodInvocation:includeGlobalState
MethodInvocation:absoluteTimeInMillis
MethodInvocation:getGenId
MethodInvocation:includeGlobalState
MethodInvocation:partial
MethodInvocation:absoluteTimeInMillis
MethodInvocation:getGenId
MethodInvocation:build
MethodInvocation:putCustom
MethodInvocation:builder
MethodInvocation:of
Method-name:onFailure
Method-returnType:void
Method-parameters:[String source, Exception e]
MethodInvocation:warn
MethodInvocation:onFailure
Method-name:clusterStateProcessed
Method-returnType:void
Method-parameters:[String source, ClusterState oldState, final ClusterState newState]
MethodInvocation:info
MethodInvocation:onResponse
MethodInvocation:completed
MethodInvocation:state
MethodInvocation:isEmpty
MethodInvocation:shards
MethodInvocation:endSnapshot
MethodInvocation:metadata
Method-name:timeout
Method-returnType:TimeValue
Method-parameters:[]
MethodInvocation:masterNodeTimeout
Method-name:validate
Method-returnType:void
Method-parameters:[String repositoryName, String snapshotName, ClusterState state]
MethodInvocation:custom
MethodInvocation:getMetadata
MethodInvocation:repository
MethodInvocation:validate
Method-name:validate
Method-returnType:void
Method-parameters:[final String repositoryName, final String snapshotName]
MethodInvocation:hasLength
MethodInvocation:contains
MethodInvocation:contains
MethodInvocation:contains
MethodInvocation:charAt
MethodInvocation:equals
MethodInvocation:toLowerCase
MethodInvocation:validFileName
Method-name:buildGenerations
Method-returnType:ShardGenerations
Method-parameters:[SnapshotsInProgress.Entry snapshot, Metadata metadata]
Method-name:metadataForSnapshot
Method-returnType:Metadata
Method-parameters:[SnapshotsInProgress.Entry snapshot, Metadata metadata]
Method-name:currentSnapshots
Method-returnType:List<SnapshotsInProgress.Entry>
Method-parameters:[@Nullable SnapshotsInProgress snapshotsInProgress, String repository, List<String> snapshots]
MethodInvocation:isEmpty
MethodInvocation:entries
MethodInvocation:emptyList
MethodInvocation:equals
MethodInvocation:entries
MethodInvocation:size
MethodInvocation:entries
MethodInvocation:get
MethodInvocation:entries
MethodInvocation:equals
MethodInvocation:getRepository
MethodInvocation:snapshot
MethodInvocation:emptyList
MethodInvocation:isEmpty
MethodInvocation:equals
MethodInvocation:getName
MethodInvocation:getSnapshotId
MethodInvocation:snapshot
MethodInvocation:entries
MethodInvocation:emptyList
MethodInvocation:entries
MethodInvocation:entries
MethodInvocation:equals
MethodInvocation:getRepository
MethodInvocation:snapshot
MethodInvocation:isEmpty
MethodInvocation:equals
MethodInvocation:getName
MethodInvocation:getSnapshotId
MethodInvocation:snapshot
MethodInvocation:add
MethodInvocation:add
MethodInvocation:unmodifiableList
Method-name:applyClusterState
Method-returnType:void
Method-parameters:[ClusterChangedEvent event]
Method-name:assertConsistentWithClusterState
Method-returnType:boolean
Method-parameters:[ClusterState state]
Method-name:finalizeSnapshotDeletionFromPreviousMaster
Method-returnType:void
Method-parameters:[ClusterState state]
Method-name:processSnapshotsOnRemovedNodes
Method-returnType:void
Method-parameters:[]
Method-name:processStartedShards
Method-returnType:void
Method-parameters:[]
MethodInvocation:submitStateUpdateTask
Field:finishedSnapshots
Method-name:execute
Method-returnType:ClusterState
Method-parameters:[ClusterState currentState]
MethodInvocation:routingTable
MethodInvocation:custom
MethodInvocation:entries
MethodInvocation:state
MethodInvocation:processWaitingShards
MethodInvocation:shards
MethodInvocation:completed
MethodInvocation:state
MethodInvocation:completed
MethodInvocation:values
MethodInvocation:add
MethodInvocation:add
MethodInvocation:build
MethodInvocation:putCustom
MethodInvocation:builder
MethodInvocation:unmodifiableList
Method-name:onFailure
Method-returnType:void
Method-parameters:[String source, Exception e]
MethodInvocation:warn
Method-name:clusterStateProcessed
Method-returnType:void
Method-parameters:[String source, ClusterState oldState, ClusterState newState]
MethodInvocation:forEach
MethodInvocation:endSnapshot
MethodInvocation:metadata
Method-name:processWaitingShards
Method-returnType:ImmutableOpenMap<ShardId,ShardSnapshotStatus>
Method-parameters:[ImmutableOpenMap<ShardId,ShardSnapshotStatus> snapshotShards, RoutingTable routingTable]
MethodInvocation:builder
MethodInvocation:state
MethodInvocation:index
MethodInvocation:getIndex
MethodInvocation:shard
MethodInvocation:id
MethodInvocation:primaryShard
MethodInvocation:started
MethodInvocation:primaryShard
MethodInvocation:trace
MethodInvocation:nodeId
MethodInvocation:put
MethodInvocation:currentNodeId
MethodInvocation:primaryShard
MethodInvocation:generation
MethodInvocation:initializing
MethodInvocation:primaryShard
MethodInvocation:relocating
MethodInvocation:primaryShard
MethodInvocation:put
MethodInvocation:warn
MethodInvocation:nodeId
MethodInvocation:put
MethodInvocation:nodeId
MethodInvocation:generation
MethodInvocation:put
MethodInvocation:build
Method-name:waitingShardsStartedOrUnassigned
Method-returnType:boolean
Method-parameters:[SnapshotsInProgress snapshotsInProgress, ClusterChangedEvent event]
MethodInvocation:entries
MethodInvocation:state
MethodInvocation:keys
MethodInvocation:waitingIndices
MethodInvocation:indexRoutingTableChanged
MethodInvocation:index
MethodInvocation:getRoutingTable
MethodInvocation:state
MethodInvocation:get
MethodInvocation:waitingIndices
MethodInvocation:primaryShard
MethodInvocation:shard
MethodInvocation:id
MethodInvocation:started
MethodInvocation:unassigned
Method-name:removedNodesCleanupNeeded
Method-returnType:boolean
Method-parameters:[SnapshotsInProgress snapshotsInProgress, List<DiscoveryNode> removedNodes]
MethodInvocation:isEmpty
MethodInvocation:anyMatch
MethodInvocation:flatMap
MethodInvocation:stream
MethodInvocation:entries
MethodInvocation:map
MethodInvocation:filter
MethodInvocation:stream
MethodInvocation:spliterator
MethodInvocation:valuesIt
MethodInvocation:shards
MethodInvocation:completed
MethodInvocation:state
MethodInvocation:collect
MethodInvocation:map
MethodInvocation:stream
MethodInvocation:toSet
Method-name:endSnapshot
Method-returnType:void
Method-parameters:[SnapshotsInProgress.Entry entry, Metadata metadata]
Method-name:handleFinalizationFailure
Method-returnType:void
Method-parameters:[Exception e, SnapshotsInProgress.Entry entry]
MethodInvocation:snapshot
MethodInvocation:unwrap
MethodInvocation:debug
MethodInvocation:failSnapshotCompletionListeners
MethodInvocation:warn
MethodInvocation:removeSnapshotFromClusterState
Method-name:stateWithoutSnapshot
Method-returnType:ClusterState
Method-parameters:[ClusterState state, Snapshot snapshot]
MethodInvocation:custom
MethodInvocation:entries
MethodInvocation:equals
MethodInvocation:snapshot
MethodInvocation:add
MethodInvocation:build
MethodInvocation:putCustom
MethodInvocation:builder
MethodInvocation:unmodifiableList
Method-name:removeSnapshotFromClusterState
Method-returnType:void
Method-parameters:[final Snapshot snapshot, Exception failure]
Method-name:failSnapshotCompletionListeners
Method-returnType:void
Method-parameters:[Snapshot snapshot, Exception e]
MethodInvocation:remove
MethodInvocation:onFailure
MethodInvocation:warn
MethodInvocation:remove
Method-name:deleteSnapshots
Method-returnType:void
Method-parameters:[final DeleteSnapshotRequest request, final ActionListener<Void> listener]
Method-name:matchingSnapshotIds
Method-returnType:List<SnapshotId>
Method-parameters:[@Nullable SnapshotId inProgress, RepositoryData repositoryData, String[] snapshotsOrPatterns, String repositoryName]
MethodInvocation:collect
MethodInvocation:stream
MethodInvocation:getSnapshotIds
MethodInvocation:toMap
MethodInvocation:identity
MethodInvocation:isSimpleMatchPattern
MethodInvocation:entrySet
MethodInvocation:simpleMatch
MethodInvocation:getKey
MethodInvocation:add
MethodInvocation:getValue
MethodInvocation:get
MethodInvocation:equals
MethodInvocation:getName
MethodInvocation:add
MethodInvocation:get
MethodInvocation:copyOf
Method-name:findInProgressSnapshot
Method-returnType:SnapshotsInProgress.Entry
Method-parameters:[@Nullable SnapshotsInProgress snapshots, String[] snapshotNames, String repositoryName]
MethodInvocation:entries
MethodInvocation:equals
MethodInvocation:repository
MethodInvocation:simpleMatch
MethodInvocation:getName
MethodInvocation:getSnapshotId
MethodInvocation:snapshot
Method-name:createDeleteStateUpdate
Method-returnType:ClusterStateUpdateTask
Method-parameters:[List<SnapshotId> snapshotIds, String repoName, long repositoryStateId, Priority priority, ActionListener<Void> listener]
MethodInvocation:isEmpty
Method-name:execute
Method-returnType:ClusterState
Method-parameters:[ClusterState currentState]
Method-name:onFailure
Method-returnType:void
Method-parameters:[String source, Exception e]
MethodInvocation:onFailure
Method-name:clusterStateProcessed
Method-returnType:void
Method-parameters:[String source, ClusterState oldState, ClusterState newState]
MethodInvocation:onResponse
Method-name:execute
Method-returnType:ClusterState
Method-parameters:[ClusterState currentState]
MethodInvocation:custom
MethodInvocation:hasDeletionsInProgress
MethodInvocation:get
MethodInvocation:custom
MethodInvocation:hasCleanupInProgress
MethodInvocation:get
MethodInvocation:custom
MethodInvocation:equals
MethodInvocation:getRepository
MethodInvocation:snapshot
MethodInvocation:contains
MethodInvocation:getSnapshotId
MethodInvocation:snapshot
MethodInvocation:get
MethodInvocation:custom
MethodInvocation:isEmpty
MethodInvocation:entries
MethodInvocation:toString
MethodInvocation:absoluteTimeInMillis
MethodInvocation:withAddedEntry
MethodInvocation:newInstance
MethodInvocation:build
MethodInvocation:putCustom
MethodInvocation:builder
Method-name:onFailure
Method-returnType:void
Method-parameters:[String source, Exception e]
MethodInvocation:onFailure
Method-name:clusterStateProcessed
Method-returnType:void
Method-parameters:[String source, ClusterState oldState, ClusterState newState]
MethodInvocation:deleteSnapshotsFromRepository
MethodInvocation:getMinNodeVersion
MethodInvocation:nodes
Method-name:useShardGenerations
Method-returnType:boolean
Method-parameters:[Version repositoryMetaVersion]
MethodInvocation:onOrAfter
Method-name:deleteSnapshotsFromRepository
Method-returnType:void
Method-parameters:[String repoName, Collection<SnapshotId> snapshotIds, @Nullable ActionListener<Void> listener, long repositoryStateId, Version minNodeVersion]
MethodInvocation:execute
MethodInvocation:executor
MethodInvocation:wrap
MethodInvocation:repository
MethodInvocation:getRepositoryData
MethodInvocation:wrap
MethodInvocation:deleteSnapshots
MethodInvocation:minCompatibleVersion
MethodInvocation:wrap
MethodInvocation:info
MethodInvocation:removeSnapshotDeletionFromClusterState
MethodInvocation:removeSnapshotDeletionFromClusterState
MethodInvocation:removeSnapshotDeletionFromClusterState
Method-name:removeSnapshotDeletionFromClusterState
Method-returnType:void
Method-parameters:[final Collection<SnapshotId> snapshotIds, @Nullable final Exception failure, @Nullable final ActionListener<Void> listener]
Method-name:shards
Method-returnType:ImmutableOpenMap<ShardId,SnapshotsInProgress.ShardSnapshotStatus>
Method-parameters:[ClusterState clusterState, List<IndexId> indices, boolean useShardGenerations, RepositoryData repositoryData]
Method-name:snapshottingIndices
Method-returnType:Set<Index>
Method-parameters:[final ClusterState currentState, final Set<Index> indicesToCheck]
MethodInvocation:custom
MethodInvocation:emptySet
MethodInvocation:entries
MethodInvocation:partial
MethodInvocation:indices
MethodInvocation:index
MethodInvocation:metadata
MethodInvocation:getName
MethodInvocation:contains
MethodInvocation:getIndex
MethodInvocation:add
MethodInvocation:getIndex
Method-name:addListener
Method-returnType:void
Method-parameters:[Snapshot snapshot, ActionListener<Tuple<RepositoryData,SnapshotInfo>> listener]
MethodInvocation:add
MethodInvocation:computeIfAbsent
Method-name:doStart
Method-returnType:void
Method-parameters:[]
Method-name:doStop
Method-returnType:void
Method-parameters:[]
Method-name:doClose
Method-returnType:void
Method-parameters:[]
MethodInvocation:removeApplier
Class:SnapshotStateExecutor
Method-name:execute
Method-returnType:ClusterTasksResult<UpdateIndexShardSnapshotStatusRequest>
Method-parameters:[ClusterState currentState, List<UpdateIndexShardSnapshotStatusRequest> tasks]
MethodInvocation:custom
MethodInvocation:entries
MethodInvocation:builder
MethodInvocation:equals
MethodInvocation:snapshot
MethodInvocation:snapshot
MethodInvocation:trace
MethodInvocation:snapshot
MethodInvocation:shardId
MethodInvocation:state
MethodInvocation:status
MethodInvocation:putAll
MethodInvocation:shards
MethodInvocation:put
MethodInvocation:shardId
MethodInvocation:status
MethodInvocation:completed
MethodInvocation:values
MethodInvocation:add
MethodInvocation:build
MethodInvocation:build
MethodInvocation:add
MethodInvocation:add
MethodInvocation:trace
MethodInvocation:build
MethodInvocation:successes
MethodInvocation:builder
MethodInvocation:build
MethodInvocation:putCustom
MethodInvocation:builder
MethodInvocation:unmodifiableList
MethodInvocation:build
MethodInvocation:successes
MethodInvocation:builder
Method-name:innerUpdateSnapshotState
Method-returnType:void
Method-parameters:[final UpdateIndexShardSnapshotStatusRequest request, ActionListener<UpdateIndexShardSnapshotStatusResponse> listener]
MethodInvocation:trace
MethodInvocation:submitStateUpdateTask
MethodInvocation:build
Method-name:onFailure
Method-returnType:void
Method-parameters:[String source, Exception e]
MethodInvocation:onFailure
Method-name:clusterStateProcessed
Method-returnType:void
Method-parameters:[String source, ClusterState oldState, ClusterState newState]
MethodInvocation:onResponse
MethodInvocation:contains
MethodInvocation:snapshot
MethodInvocation:custom
MethodInvocation:snapshot
MethodInvocation:snapshot
MethodInvocation:completed
MethodInvocation:state
MethodInvocation:endSnapshot
MethodInvocation:metadata
Class:UpdateSnapshotStatusAction
Method-name:UpdateSnapshotStatusAction
Method-returnType:null
Method-parameters:[TransportService transportService, ClusterService clusterService, ThreadPool threadPool, ActionFilters actionFilters, IndexNameExpressionResolver indexNameExpressionResolver]
Method-name:executor
Method-returnType:String
Method-parameters:[]
Method-name:read
Method-returnType:UpdateIndexShardSnapshotStatusResponse
Method-parameters:[StreamInput in]
Method-name:masterOperation
Method-returnType:void
Method-parameters:[Task task, UpdateIndexShardSnapshotStatusRequest request, ClusterState state, ActionListener<UpdateIndexShardSnapshotStatusResponse> listener]
MethodInvocation:innerUpdateSnapshotState
Method-name:checkBlock
Method-returnType:ClusterBlockException
Method-parameters:[UpdateIndexShardSnapshotStatusRequest request, ClusterState state]
