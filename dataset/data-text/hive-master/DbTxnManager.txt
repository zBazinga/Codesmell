Class:DbTxnManager
Field:CLASS_NAME
MethodInvocation:getName
Field:LOG
MethodInvocation:getLogger
Field:GLOBAL_LOCKS
Field:lockMgr
Field:txnId
Field:tableWriteIds
Field:stmtId
Field:numStatements
Field:isExplicitTransaction
Field:startTransactionCount
Field:queryId
Field:heartbeatExecutorService
Field:heartbeatTask
Field:shutdownRunner
Field:SHUTDOWN_HOOK_PRIORITY
Field:heartbeatTaskLock
Method-name:getMS
Method-returnType:IMetaStoreClient
Method-parameters:[]
MethodInvocation:getMSC
MethodInvocation:get
MethodInvocation:getMessage
MethodInvocation:error
Method-name:DbTxnManager
Method-returnType:null
Method-parameters:[]
Method-name:run
Method-returnType:void
Method-parameters:[]
MethodInvocation:isShutdown
MethodInvocation:isTerminated
MethodInvocation:info
MethodInvocation:shutdown
MethodInvocation:addShutdownHook
Method-name:setHiveConf
Method-returnType:void
Method-parameters:[HiveConf conf]
MethodInvocation:getBoolVar
MethodInvocation:getMsg
Method-name:replOpenTxn
Method-returnType:List<Long>
Method-parameters:[String replPolicy, List<Long> srcTxnIds, String user]
MethodInvocation:replOpenTxn
MethodInvocation:getMS
Method-name:openTxn
Method-returnType:long
Method-parameters:[Context ctx, String user]
MethodInvocation:openTxn
Method-name:openTxn
Method-returnType:long
Method-parameters:[Context ctx, String user, TxnType txnType]
MethodInvocation:openTxn
Method-name:openTxn
Method-returnType:long
Method-parameters:[Context ctx, String user, TxnType txnType, long delay]
MethodInvocation:init
MethodInvocation:getLockManager
MethodInvocation:isTxnOpen
MethodInvocation:txnIdToString
MethodInvocation:openTxn
MethodInvocation:getMS
MethodInvocation:clear
MethodInvocation:info
MethodInvocation:txnIdToString
MethodInvocation:setHeartbeater
MethodInvocation:startHeartbeat
Method-name:getLockManager
Method-returnType:HiveLockManager
Method-parameters:[]
MethodInvocation:init
Method-name:acquireLocks
Method-returnType:void
Method-parameters:[QueryPlan plan, Context ctx, String username]
MethodInvocation:acquireLocksWithHeartbeatDelay
MethodInvocation:getCause
MethodInvocation:resetTxnInfo
Method-name:getQueryIdWaterMark
Method-returnType:String
Method-parameters:[QueryPlan queryPlan]
MethodInvocation:getQueryId
Method-name:markExplicitTransaction
Method-returnType:void
Method-parameters:[QueryPlan queryPlan]
MethodInvocation:getOperationName
MethodInvocation:txnIdToString
MethodInvocation:getCurrentTxnId
MethodInvocation:getQueryId
Method-name:verifyState
Method-returnType:void
Method-parameters:[QueryPlan queryPlan]
MethodInvocation:isTxnOpen
MethodInvocation:getOperationName
MethodInvocation:getQueryIdWaterMark
MethodInvocation:getOperation
MethodInvocation:getQueryIdWaterMark
MethodInvocation:getOperation
MethodInvocation:markExplicitTransaction
MethodInvocation:isTxnOpen
MethodInvocation:getOperationName
MethodInvocation:getOperationName
MethodInvocation:isAllowedInTransaction
MethodInvocation:getOperation
MethodInvocation:allowOperationInATransaction
MethodInvocation:getOperationName
MethodInvocation:txnIdToString
MethodInvocation:getCurrentTxnId
MethodInvocation:getQueryId
Method-name:acquireLocks
Method-returnType:LockState
Method-parameters:[QueryPlan plan, Context ctx, String username, boolean isBlocking]
MethodInvocation:init
MethodInvocation:getLockManager
MethodInvocation:verifyState
MethodInvocation:getQueryId
MethodInvocation:getOperation
MethodInvocation:info
MethodInvocation:txnIdToString
MethodInvocation:setUser
MethodInvocation:setTransactionId
MethodInvocation:setZeroWaitReadEnabled
MethodInvocation:getBoolVar
MethodInvocation:getBoolVar
MethodInvocation:isEmpty
MethodInvocation:getInputs
MethodInvocation:isEmpty
MethodInvocation:getOutputs
MethodInvocation:debug
MethodInvocation:makeLockComponents
MethodInvocation:getOutputs
MethodInvocation:getInputs
MethodInvocation:getOperation
MethodInvocation:addAll
MethodInvocation:getGlobalLocks
MethodInvocation:getConf
MethodInvocation:isEmpty
MethodInvocation:debug
MethodInvocation:addLockComponents
MethodInvocation:lock
MethodInvocation:build
MethodInvocation:setHiveLocks
Method-name:getGlobalLocks
Method-returnType:Collection<LockComponent>
Method-parameters:[Configuration conf]
MethodInvocation:get
MethodInvocation:isEmpty
MethodInvocation:emptyList
MethodInvocation:split
MethodInvocation:trim
MethodInvocation:isEmpty
MethodInvocation:setExclusive
MethodInvocation:setOperationType
MethodInvocation:setDbName
MethodInvocation:setTableName
MethodInvocation:add
MethodInvocation:build
MethodInvocation:debug
Method-name:acquireLocksWithHeartbeatDelay
Method-returnType:void
Method-parameters:[QueryPlan plan, Context ctx, String username, long delay]
MethodInvocation:acquireLocks
MethodInvocation:isTxnOpen
MethodInvocation:setHeartbeater
MethodInvocation:startHeartbeat
Method-name:releaseLocks
Method-returnType:void
Method-parameters:[List<HiveLock> hiveLocks]
MethodInvocation:stopHeartbeat
MethodInvocation:releaseLocks
Method-name:clearLocksAndHB
Method-returnType:void
Method-parameters:[]
MethodInvocation:clearLocalLockRecords
MethodInvocation:stopHeartbeat
Method-name:resetTxnInfo
Method-returnType:void
Method-parameters:[]
MethodInvocation:clear
Method-name:replCommitTxn
Method-returnType:void
Method-parameters:[CommitTxnRequest rqst]
MethodInvocation:isSetReplLastIdInfo
MethodInvocation:isTxnOpen
MethodInvocation:clearLocksAndHB
MethodInvocation:replCommitTxn
MethodInvocation:getMS
MethodInvocation:error
MethodInvocation:txnIdToString
MethodInvocation:getTxnid
MethodInvocation:txnIdToString
MethodInvocation:getTxnid
MethodInvocation:txnIdToString
MethodInvocation:getTxnid
MethodInvocation:getMessage
MethodInvocation:error
MethodInvocation:getMessage
MethodInvocation:getMsg
MethodInvocation:isSetReplLastIdInfo
MethodInvocation:resetTxnInfo
Method-name:commitTxn
Method-returnType:void
Method-parameters:[]
MethodInvocation:isTxnOpen
MethodInvocation:clearLocksAndHB
MethodInvocation:debug
MethodInvocation:txnIdToString
MethodInvocation:commitTxn
MethodInvocation:getMS
MethodInvocation:error
MethodInvocation:txnIdToString
MethodInvocation:txnIdToString
MethodInvocation:txnIdToString
MethodInvocation:getMessage
MethodInvocation:error
MethodInvocation:getMessage
MethodInvocation:getMsg
MethodInvocation:resetTxnInfo
Method-name:replRollbackTxn
Method-returnType:void
Method-parameters:[String replPolicy, long srcTxnId]
MethodInvocation:replRollbackTxn
MethodInvocation:getMS
MethodInvocation:error
MethodInvocation:txnIdToString
MethodInvocation:txnIdToString
MethodInvocation:txnIdToString
MethodInvocation:getMessage
MethodInvocation:error
MethodInvocation:getMessage
MethodInvocation:getMsg
Method-name:rollbackTxn
Method-returnType:void
Method-parameters:[]
MethodInvocation:isTxnOpen
MethodInvocation:stopHeartbeat
MethodInvocation:clearLocalLockRecords
MethodInvocation:debug
MethodInvocation:txnIdToString
MethodInvocation:isTxnOpen
MethodInvocation:rollbackTxn
MethodInvocation:getMS
MethodInvocation:warn
MethodInvocation:error
MethodInvocation:txnIdToString
MethodInvocation:txnIdToString
MethodInvocation:txnIdToString
MethodInvocation:getMsg
MethodInvocation:resetTxnInfo
Method-name:replTableWriteIdState
Method-returnType:void
Method-parameters:[String validWriteIdList, String dbName, String tableName, List<String> partNames]
MethodInvocation:replTableWriteIdState
MethodInvocation:getMS
MethodInvocation:getMsg
Method-name:heartbeat
Method-returnType:void
Method-parameters:[]
MethodInvocation:isTxnOpen
MethodInvocation:add
MethodInvocation:getLocks
MethodInvocation:isInfoEnabled
MethodInvocation:append
MethodInvocation:append
MethodInvocation:txnIdToString
MethodInvocation:append
MethodInvocation:append
MethodInvocation:toString
MethodInvocation:info
MethodInvocation:toString
MethodInvocation:isTxnOpen
MethodInvocation:isEmpty
MethodInvocation:isDebugEnabled
MethodInvocation:debug
FieldAccess:lockId
MethodInvocation:heartbeat
MethodInvocation:getMS
MethodInvocation:error
MethodInvocation:lockIdToString
MethodInvocation:lockIdToString
MethodInvocation:error
MethodInvocation:txnIdToString
MethodInvocation:txnIdToString
MethodInvocation:txnIdToString
MethodInvocation:getMessage
MethodInvocation:error
MethodInvocation:getMessage
MethodInvocation:getMsg
MethodInvocation:txnIdToString
MethodInvocation:toString
Method-name:startHeartbeat
Method-returnType:Heartbeater
Method-parameters:[long initialDelay]
Method-name:startHeartbeat
Method-returnType:ScheduledFuture<?>
Method-parameters:[long initialDelay, long heartbeatInterval, Runnable heartbeater]
MethodInvocation:getBoolVar
MethodInvocation:getBoolVar
MethodInvocation:floor
MethodInvocation:random
MethodInvocation:scheduleAtFixedRate
Method-name:stopHeartbeat
Method-returnType:void
Method-parameters:[]
MethodInvocation:tryLock
MethodInvocation:cancel
MethodInvocation:currentTimeMillis
MethodInvocation:isCancelled
MethodInvocation:isDone
MethodInvocation:currentTimeMillis
MethodInvocation:warn
MethodInvocation:sleep
MethodInvocation:isCancelled
MethodInvocation:isDone
MethodInvocation:info
MethodInvocation:unlock
Method-name:getValidTxns
Method-returnType:ValidTxnList
Method-parameters:[]
Method-name:getValidWriteIds
Method-returnType:ValidTxnWriteIdList
Method-parameters:[List<String> tableList, String validTxnList]
Method-name:getTxnManagerName
Method-returnType:String
Method-parameters:[]
Method-name:supportsExplicitLock
Method-returnType:boolean
Method-parameters:[]
Method-name:lockTable
Method-returnType:int
Method-parameters:[Hive db, LockTableDesc lockTbl]
Method-name:unlockTable
Method-returnType:int
Method-parameters:[Hive hiveDB, UnlockTableDesc unlockTbl]
Method-name:lockDatabase
Method-returnType:int
Method-parameters:[Hive hiveDB, LockDatabaseDesc lockDb]
Method-name:unlockDatabase
Method-returnType:int
Method-parameters:[Hive hiveDB, UnlockDatabaseDesc unlockDb]
Method-name:useNewShowLocksFormat
Method-returnType:boolean
Method-parameters:[]
Method-name:supportsAcid
Method-returnType:boolean
Method-parameters:[]
Method-name:recordSnapshot
Method-returnType:boolean
Method-parameters:[QueryPlan queryPlan]
Method-name:isImplicitTransactionOpen
Method-returnType:boolean
Method-parameters:[]
Method-name:destruct
Method-returnType:void
Method-parameters:[]
MethodInvocation:stopHeartbeat
MethodInvocation:removeShutdownHook
MethodInvocation:isTxnOpen
MethodInvocation:rollbackTxn
MethodInvocation:close
MethodInvocation:error
MethodInvocation:getName
MethodInvocation:getClass
MethodInvocation:getMessage
Method-name:init
Method-returnType:void
Method-parameters:[]
MethodInvocation:initHeartbeatExecutorService
Method-name:initHeartbeatExecutorService
Method-returnType:void
Method-parameters:[]
MethodInvocation:isShutdown
MethodInvocation:isTerminated
MethodInvocation:newScheduledThreadPool
MethodInvocation:getIntVar
Field:threadCounter
Method-name:newThread
Method-returnType:Thread
Method-parameters:[Runnable r]
MethodInvocation:getAndIncrement
MethodInvocation:setRemoveOnCancelPolicy
Class:HeartbeaterThread
Method-name:HeartbeaterThread
Method-returnType:null
Method-parameters:[Runnable target, String name]
MethodInvocation:setDaemon
Method-name:isTxnOpen
Method-returnType:boolean
Method-parameters:[]
Method-name:getCurrentTxnId
Method-returnType:long
Method-parameters:[]
Method-name:getStmtIdAndIncrement
Method-returnType:int
Method-parameters:[]
Method-name:getCurrentStmtId
Method-returnType:int
Method-parameters:[]
Method-name:getTableWriteId
Method-returnType:long
Method-parameters:[String dbName, String tableName]
Method-name:getAllocatedTableWriteId
Method-returnType:long
Method-parameters:[String dbName, String tableName]
Method-name:getTableWriteId
Method-returnType:long
Method-parameters:[String dbName, String tableName, boolean allocateIfNotYet]
MethodInvocation:getFullTableName
MethodInvocation:containsKey
MethodInvocation:get
MethodInvocation:allocateTableWriteId
MethodInvocation:getMS
MethodInvocation:debug
MethodInvocation:put
MethodInvocation:getMsg
Method-name:acquireMaterializationRebuildLock
Method-returnType:LockResponse
Method-parameters:[String dbName, String tableName, long txnId]
Method-name:heartbeatMaterializationRebuildLock
Method-returnType:boolean
Method-parameters:[String dbName, String tableName, long txnId]
MethodInvocation:heartbeatLockMaterializationRebuild
MethodInvocation:getMS
MethodInvocation:getMsg
Method-name:replAllocateTableWriteIdsBatch
Method-returnType:void
Method-parameters:[String dbName, String tableName, String replPolicy, List<TxnToWriteId> srcTxnToWriteIdList]
MethodInvocation:replAllocateTableWriteIdsBatch
MethodInvocation:getMS
MethodInvocation:getMsg
Method-name:getHeartbeatInterval
Method-returnType:long
Method-parameters:[Configuration conf]
MethodInvocation:getTimeVar
MethodInvocation:toString
Class:Heartbeater
Field:txnMgr
Field:conf
Field:currentUser
Field:lockException
Field:queryId
Method-name:getLockException
Method-returnType:LockException
Method-parameters:[]
Method-name:Heartbeater
Method-returnType:null
Method-parameters:[HiveTxnManager txnMgr, HiveConf conf, String queryId, UserGroupInformation currentUser]
FieldAccess:txnMgr
FieldAccess:conf
FieldAccess:currentUser
FieldAccess:queryId
Method-name:run
Method-returnType:void
Method-parameters:[]
MethodInvocation:getBoolVar
MethodInvocation:getBoolVar
MethodInvocation:name
MethodInvocation:debug
MethodInvocation:doAs
MethodInvocation:heartbeat
MethodInvocation:error
MethodInvocation:getMessage
MethodInvocation:getMessage
MethodInvocation:error
Class:MaterializationRebuildLockHeartbeater
Field:txnMgr
Field:dbName
Field:tableName
Field:queryId
Field:txnId
Field:task
Method-name:MaterializationRebuildLockHeartbeater
Method-returnType:null
Method-parameters:[DbTxnManager txnMgr, String dbName, String tableName, String queryId, long txnId]
FieldAccess:txnMgr
FieldAccess:queryId
FieldAccess:dbName
FieldAccess:tableName
FieldAccess:txnId
FieldAccess:task
Method-name:run
Method-returnType:void
Method-parameters:[]
MethodInvocation:trace
MethodInvocation:getFullTableName
MethodInvocation:heartbeatMaterializationRebuildLock
MethodInvocation:error
MethodInvocation:get
MethodInvocation:cancel
MethodInvocation:debug
MethodInvocation:getFullTableName
