Class:PackageFactory
Field:logger
MethodInvocation:getLogger
MethodInvocation:getName
Field:ruleFactory
Field:ruleFunctions
Field:ruleClassProvider
Field:environmentExtensions
Field:packageArguments
Field:packageBuilderHelper
Field:packageValidator
Field:nativeModule
Field:workspaceNativeModule
Field:syscalls
Field:executor
Field:maxDirectoriesToEagerlyVisitInGlobbing
Method-name:PackageFactory
Method-returnType:null
Method-parameters:[RuleClassProvider ruleClassProvider, Iterable<EnvironmentExtension> environmentExtensions, String version, Package.Builder.Helper packageBuilderHelper, PackageValidator packageValidator]
FieldAccess:ruleFactory
FieldAccess:ruleFunctions
MethodInvocation:buildRuleFunctions
FieldAccess:ruleClassProvider
MethodInvocation:setGlobbingThreads
FieldAccess:environmentExtensions
MethodInvocation:copyOf
FieldAccess:packageArguments
MethodInvocation:createPackageArguments
FieldAccess:nativeModule
MethodInvocation:newNativeModule
FieldAccess:workspaceNativeModule
MethodInvocation:newNativeModule
FieldAccess:packageBuilderHelper
FieldAccess:packageValidator
Method-name:newPackageFunction
Method-returnType:BaseFunction
Method-parameters:[final ImmutableMap<String,PackageArgument<?>> packageArguments]
MethodInvocation:namedOnly
MethodInvocation:toArray
MethodInvocation:keySet
Method-name:getName
Method-returnType:String
Method-parameters:[]
Method-name:getSignature
Method-returnType:FunctionSignature
Method-parameters:[]
Method-name:call
Method-returnType:Object
Method-parameters:[StarlarkThread thread, Tuple<Object> args, Dict<String,Object> kwargs]
MethodInvocation:isEmpty
FieldAccess:pkgBuilder
MethodInvocation:getContext
MethodInvocation:isPackageFunctionUsed
MethodInvocation:setPackageFunctionUsed
MethodInvocation:isEmpty
MethodInvocation:getCallerLocation
MethodInvocation:entrySet
MethodInvocation:getKey
MethodInvocation:get
MethodInvocation:convertAndProcess
MethodInvocation:getValue
Method-name:getContext
Method-returnType:PackageContext
Method-parameters:[StarlarkThread thread]
MethodInvocation:getThreadLocal
MethodInvocation:errorf
Method-name:buildRuleFunctions
Method-returnType:ImmutableMap<String,BuiltinRuleFunction>
Method-parameters:[RuleFactory ruleFactory]
MethodInvocation:builder
MethodInvocation:getRuleClassNames
MethodInvocation:getRuleClass
MethodInvocation:getRuleClassType
MethodInvocation:getRuleClassType
MethodInvocation:put
MethodInvocation:build
Method-name:parseBuildFile
Method-returnType:StarlarkFile
Method-parameters:[PackageIdentifier packageId, ParserInput input, List<Statement> preludeStatements, StarlarkSemantics semantics]
MethodInvocation:build
MethodInvocation:restrictStringEscapes
MethodInvocation:allowToplevelRebinding
MethodInvocation:requireLoadStatementsFirst
MethodInvocation:recordScope
MethodInvocation:builder
MethodInvocation:incompatibleRestrictStringEscapes
MethodInvocation:fine
MethodInvocation:parseWithPrelude
MethodInvocation:fine
Method-name:createLegacyGlobber
Method-returnType:LegacyGlobber
Method-parameters:[GlobCache globCache]
Method-name:checkBuildSyntax
Method-returnType:boolean
Method-parameters:[StarlarkFile file, Collection<String> globs, Collection<String> globsWithDirs, Map<Location,String> generatorNameByLocation, EventHandler eventHandler]
Method-name:error
Method-returnType:void
Method-parameters:[Location loc, String message]
MethodInvocation:handle
MethodInvocation:error
Method-name:extractGlobPatterns
Method-returnType:void
Method-parameters:[CallExpression call]
MethodInvocation:getFunction
MethodInvocation:equals
MethodInvocation:getName
MethodInvocation:getFunction
MethodInvocation:getArguments
MethodInvocation:size
MethodInvocation:get
MethodInvocation:getName
MethodInvocation:getValue
MethodInvocation:equals
MethodInvocation:getValue
MethodInvocation:equals
MethodInvocation:getValue
MethodInvocation:getElements
MethodInvocation:getValue
MethodInvocation:getValue
MethodInvocation:add
Method-name:rejectStarArgs
Method-returnType:void
Method-parameters:[CallExpression call]
MethodInvocation:getArguments
MethodInvocation:error
MethodInvocation:getStartLocation
MethodInvocation:error
MethodInvocation:getStartLocation
Method-name:recordGeneratorName
Method-returnType:void
Method-parameters:[CallExpression call]
MethodInvocation:getArguments
MethodInvocation:equals
MethodInvocation:getName
MethodInvocation:getValue
MethodInvocation:put
MethodInvocation:getStartLocation
MethodInvocation:getValue
MethodInvocation:getValue
Method-name:visit
Method-returnType:void
Method-parameters:[DefStatement node]
MethodInvocation:error
MethodInvocation:getStartLocation
Method-name:visit
Method-returnType:void
Method-parameters:[ForStatement node]
MethodInvocation:error
MethodInvocation:getStartLocation
Method-name:visit
Method-returnType:void
Method-parameters:[IfStatement node]
MethodInvocation:error
MethodInvocation:getStartLocation
Method-name:visit
Method-returnType:void
Method-parameters:[CallExpression node]
MethodInvocation:extractGlobPatterns
MethodInvocation:rejectStarArgs
MethodInvocation:recordGeneratorName
MethodInvocation:visit
Method-name:getPackageBuilderHelperForTesting
Method-returnType:Package.Builder.Helper
Method-parameters:[]
Method-name:setSyscalls
Method-returnType:void
Method-parameters:[AtomicReference<? extends UnixGlob.FilesystemCalls> syscalls]
FieldAccess:syscalls
MethodInvocation:checkNotNull
Method-name:setGlobbingThreads
Method-returnType:void
Method-parameters:[int globbingThreads]
MethodInvocation:getParallelism
MethodInvocation:newNamedPool
Method-name:setMaxDirectoriesToEagerlyVisitInGlobbing
Method-returnType:void
Method-parameters:[int maxDirectoriesToEagerlyVisitInGlobbing]
FieldAccess:maxDirectoriesToEagerlyVisitInGlobbing
Method-name:getRuleClassNames
Method-returnType:Set<String>
Method-parameters:[]
MethodInvocation:getRuleClassNames
Method-name:getRuleClass
Method-returnType:RuleClass
Method-parameters:[String ruleClassName]
MethodInvocation:getRuleClass
Method-name:getRuleClassProvider
Method-returnType:RuleClassProvider
Method-parameters:[]
Method-name:getEnvironmentExtensions
Method-returnType:ImmutableList<EnvironmentExtension>
Method-parameters:[]
Method-name:createPackageArguments
Method-returnType:ImmutableMap<String,PackageArgument<?>>
Method-parameters:[]
MethodInvocation:addAll
MethodInvocation:builder
MethodInvocation:get
MethodInvocation:addAll
MethodInvocation:getPackageArguments
MethodInvocation:builder
MethodInvocation:build
MethodInvocation:put
MethodInvocation:getName
MethodInvocation:build
Method-name:newExternalPackageBuilder
Method-returnType:Package.Builder
Method-parameters:[RootedPath workspacePath, String runfilesPrefix, StarlarkSemantics starlarkSemantics]
MethodInvocation:newExternalPackageBuilder
Method-name:newPackageBuilder
Method-returnType:Package.Builder
Method-parameters:[PackageIdentifier packageId, String runfilesPrefix, StarlarkSemantics starlarkSemantics]
Method-name:createPackageForTesting
Method-returnType:Package
Method-parameters:[PackageIdentifier packageId, RootedPath buildFile, CachingPackageLocator locator, ExtendedEventHandler eventHandler]
MethodInvocation:build
MethodInvocation:newExternalPackageBuilder
MethodInvocation:toRootedPath
MethodInvocation:getRoot
MethodInvocation:getRelative
MethodInvocation:getRootRelativePath
MethodInvocation:createPackageForTesting
Method-name:createPackageForTesting
Method-returnType:Package
Method-parameters:[PackageIdentifier packageId, Package externalPkg, RootedPath buildFile, CachingPackageLocator locator, ExtendedEventHandler eventHandler, StarlarkSemantics semantics]
MethodInvocation:validatePackageName
MethodInvocation:getPathString
MethodInvocation:getPackageFragment
MethodInvocation:maybeGetBuildFileBytes
MethodInvocation:asPath
MethodInvocation:createLegacyGlobber
MethodInvocation:getParentDirectory
MethodInvocation:asPath
MethodInvocation:of
MethodInvocation:create
MethodInvocation:convertFromLatin1
MethodInvocation:toString
MethodInvocation:asPath
MethodInvocation:parseBuildFile
MethodInvocation:of
MethodInvocation:build
MethodInvocation:createPackageFromAst
MethodInvocation:getWorkspaceName
MethodInvocation:of
MethodInvocation:of
MethodInvocation:of
MethodInvocation:getPosts
MethodInvocation:post
MethodInvocation:replayEventsOn
MethodInvocation:getEvents
Method-name:createLegacyGlobber
Method-returnType:LegacyGlobber
Method-parameters:[Path packageDirectory, PackageIdentifier packageId, ImmutableSet<PathFragment> blacklistedGlobPrefixes, CachingPackageLocator locator]
MethodInvocation:createLegacyGlobber
Method-name:maybeGetBuildFileBytes
Method-returnType:byte[]
Method-parameters:[Path buildFile, ExtendedEventHandler eventHandler]
MethodInvocation:readWithKnownFileSize
MethodInvocation:getFileSize
MethodInvocation:handle
MethodInvocation:error
MethodInvocation:fromFile
MethodInvocation:toString
MethodInvocation:getMessage
Method-name:getNativeModule
Method-returnType:ClassObject
Method-parameters:[boolean workspace]
Method-name:newNativeModule
Method-returnType:ClassObject
Method-parameters:[]
MethodInvocation:putAll
MethodInvocation:putAll
MethodInvocation:put
MethodInvocation:newPackageFunction
MethodInvocation:updateNative
MethodInvocation:create
MethodInvocation:build
Method-name:populateEnvironment
Method-returnType:void
Method-parameters:[ImmutableMap.Builder<String,Object> env]
MethodInvocation:putAll
MethodInvocation:putAll
MethodInvocation:putAll
MethodInvocation:put
MethodInvocation:newPackageFunction
MethodInvocation:putAll
MethodInvocation:update
Method-name:afterDoneLoadingPackage
Method-returnType:void
Method-parameters:[Package pkg, StarlarkSemantics starlarkSemantics, long loadTimeNanos, ExtendedEventHandler eventHandler]
MethodInvocation:validate
MethodInvocation:maxComputationSteps
MethodInvocation:getComputationSteps
MethodInvocation:getPackageIdentifier
MethodInvocation:format
MethodInvocation:onLoadingCompleteAndSuccessful
Method-name:evaluateBuildFile
Method-returnType:Package.Builder
Method-parameters:[String workspaceName, PackageIdentifier packageId, StarlarkFile file, RootedPath buildFilePath, Globber globber, RuleVisibility defaultVisibility, StarlarkSemantics semantics, Map<String,Extension> imports, ImmutableList<Label> skylarkFileDependencies, ImmutableMap<RepositoryName,RepositoryName> repositoryMapping]
MethodInvocation:createFreshPackage
MethodInvocation:getRunfilesPrefix
MethodInvocation:setThirdPartyLicenceExistencePolicy
MethodInvocation:setRepositoryMapping
MethodInvocation:setWorkspaceName
MethodInvocation:setSkylarkFileDependencies
MethodInvocation:setDefaultVisibilitySet
MethodInvocation:setDefaultVisibility
MethodInvocation:setFilename
MethodInvocation:getThirdPartyLicenseExistencePolicy
MethodInvocation:buildPackage
MethodInvocation:setContainsErrors
MethodInvocation:addPosts
MethodInvocation:getPosts
MethodInvocation:addEvents
MethodInvocation:getEvents
Method-name:buildPackage
Method-returnType:boolean
Method-parameters:[Package.Builder pkgBuilder, PackageIdentifier packageId, StarlarkFile file, StarlarkSemantics semantics, Map<String,Extension> imports, PackageContext pkgContext]
MethodInvocation:ok
MethodInvocation:replayEventsOn
MethodInvocation:errors
MethodInvocation:validatePackageName
MethodInvocation:toString
MethodInvocation:getPackageFragment
MethodInvocation:handle
MethodInvocation:error
MethodInvocation:getStartLocation
MethodInvocation:builder
MethodInvocation:populateEnvironment
MethodInvocation:create
MethodInvocation:build
MethodInvocation:setImportedExtensions
MethodInvocation:setSemantics
MethodInvocation:setGlobals
MethodInvocation:builder
MethodInvocation:createForBuiltins
MethodInvocation:build
MethodInvocation:setPrintHandler
MethodInvocation:makeDebugPrintHandler
MethodInvocation:getGlobals
MethodInvocation:validateFile
MethodInvocation:ok
MethodInvocation:replayEventsOn
MethodInvocation:errors
MethodInvocation:checkBuildSyntax
MethodInvocation:getGeneratorNameByLocation
MethodInvocation:runAsync
MethodInvocation:copyOf
MethodInvocation:of
MethodInvocation:runAsync
MethodInvocation:copyOf
MethodInvocation:of
MethodInvocation:storeInThread
MethodInvocation:getToolsRepository
MethodInvocation:getRepositoryMapping
MethodInvocation:setThreadLocal
MethodInvocation:exec
MethodInvocation:handle
MethodInvocation:error
MethodInvocation:getLocation
MethodInvocation:getMessage
MethodInvocation:setComputationSteps
MethodInvocation:getExecutedSteps
Method-name:update
Method-returnType:void
Method-parameters:[ImmutableMap.Builder<String,Object> env]
Method-name:updateWorkspace
Method-returnType:void
Method-parameters:[ImmutableMap.Builder<String,Object> env]
Method-name:updateNative
Method-returnType:void
Method-parameters:[ImmutableMap.Builder<String,Object> env]
Method-name:getPackageArguments
Method-returnType:Iterable<PackageArgument<?>>
Method-parameters:[]
Class:BuilderForTesting
Field:version
Field:environmentExtensions
MethodInvocation:of
Field:packageValidator
Field:doChecksForTesting
Method-name:setEnvironmentExtensions
Method-returnType:BuilderForTesting
Method-parameters:[Iterable<EnvironmentExtension> environmentExtensions]
FieldAccess:environmentExtensions
Method-name:disableChecks
Method-returnType:BuilderForTesting
Method-parameters:[]
FieldAccess:doChecksForTesting
Method-name:setPackageValidator
Method-returnType:BuilderForTesting
Method-parameters:[PackageValidator packageValidator]
FieldAccess:packageValidator
Method-name:build
Method-returnType:PackageFactory
Method-parameters:[RuleClassProvider ruleClassProvider, FileSystem fs]
Class:BuiltinRuleFunction
Field:ruleClass
Method-name:BuiltinRuleFunction
Method-returnType:null
Method-parameters:[RuleClass ruleClass]
FieldAccess:ruleClass
MethodInvocation:checkNotNull
Method-name:getSignature
Method-returnType:FunctionSignature
Method-parameters:[]
Method-name:call
Method-returnType:NoneType
Method-parameters:[StarlarkThread thread, Tuple<Object> args, Dict<String,Object> kwargs]
MethodInvocation:isEmpty
MethodInvocation:errorf
MethodInvocation:checkLoadingOrWorkspacePhase
MethodInvocation:from
MethodInvocation:getName
MethodInvocation:createAndAddRule
MethodInvocation:getContext
MethodInvocation:getSemantics
MethodInvocation:getCallStack
MethodInvocation:getMessage
Method-name:getRuleClass
Method-returnType:RuleClass
Method-parameters:[]
Method-name:getName
Method-returnType:String
Method-parameters:[]
MethodInvocation:getName
Method-name:repr
Method-returnType:void
Method-parameters:[Printer printer]
MethodInvocation:append
MethodInvocation:getName
Class:PackageContext
Field:pkgBuilder
Field:globber
Field:eventHandler
Method-name:PackageContext
Method-returnType:null
Method-parameters:[Package.Builder pkgBuilder, Globber globber, ExtendedEventHandler eventHandler]
FieldAccess:pkgBuilder
FieldAccess:eventHandler
FieldAccess:globber
Method-name:getLabel
Method-returnType:Label
Method-parameters:[]
MethodInvocation:getBuildFileLabel
Method-name:setMakeVariable
Method-returnType:void
Method-parameters:[String name, String value]
MethodInvocation:setMakeVariable
Method-name:getBuilder
Method-returnType:Package.Builder
Method-parameters:[]
