Class:SnapshotsService
Field:logger
MethodInvocation:getLogger
Field:clusterService
Field:indexNameExpressionResolver
Field:repositoriesService
Field:threadPool
Field:snapshotCompletionListeners
Field:initializingSnapshots
MethodInvocation:synchronizedSet
Field:endingSnapshots
MethodInvocation:synchronizedSet
Method-name:SnapshotsService
Method-returnType:null
Method-parameters:[Settings settings, ClusterService clusterService, IndexNameExpressionResolver indexNameExpressionResolver, RepositoriesService repositoriesService, ThreadPool threadPool]
FieldAccess:clusterService
FieldAccess:indexNameExpressionResolver
FieldAccess:repositoriesService
FieldAccess:threadPool
MethodInvocation:isMasterNode
MethodInvocation:addLowPriorityApplier
Method-name:getRepositoryData
Method-returnType:RepositoryData
Method-parameters:[final String repositoryName]
Method-name:snapshot
Method-returnType:SnapshotInfo
Method-parameters:[final String repositoryName, final SnapshotId snapshotId]
MethodInvocation:currentSnapshots
MethodInvocation:singletonList
MethodInvocation:getName
MethodInvocation:isEmpty
MethodInvocation:inProgressSnapshot
MethodInvocation:next
MethodInvocation:iterator
MethodInvocation:getSnapshotInfo
MethodInvocation:repository
Method-name:snapshots
Method-returnType:List<SnapshotInfo>
Method-parameters:[final String repositoryName, final List<SnapshotId> snapshotIds, final Set<SnapshotId> incompatibleSnapshotIds, final boolean ignoreUnavailable]
MethodInvocation:currentSnapshots
MethodInvocation:collect
MethodInvocation:map
MethodInvocation:stream
MethodInvocation:toList
MethodInvocation:add
MethodInvocation:inProgressSnapshot
MethodInvocation:remove
MethodInvocation:getSnapshotId
MethodInvocation:snapshot
MethodInvocation:repository
MethodInvocation:contains
MethodInvocation:add
MethodInvocation:incompatible
MethodInvocation:add
MethodInvocation:getSnapshotInfo
MethodInvocation:warn
MethodInvocation:timSort
MethodInvocation:unmodifiableList
Method-name:currentSnapshots
Method-returnType:List<SnapshotInfo>
Method-parameters:[final String repositoryName]
MethodInvocation:currentSnapshots
MethodInvocation:emptyList
MethodInvocation:add
MethodInvocation:inProgressSnapshot
MethodInvocation:timSort
MethodInvocation:unmodifiableList
Method-name:executeSnapshot
Method-returnType:void
Method-parameters:[final CreateSnapshotRequest request, final ActionListener<SnapshotInfo> listener]
MethodInvocation:createSnapshot
MethodInvocation:wrap
MethodInvocation:addListener
Method-name:createSnapshot
Method-returnType:void
Method-parameters:[final CreateSnapshotRequest request, final ActionListener<Snapshot> listener]
Method-name:validate
Method-returnType:void
Method-parameters:[String repositoryName, String snapshotName, ClusterState state]
MethodInvocation:custom
MethodInvocation:getMetaData
MethodInvocation:repository
MethodInvocation:validate
Method-name:validate
Method-returnType:void
Method-parameters:[final String repositoryName, final String snapshotName]
MethodInvocation:hasLength
MethodInvocation:contains
MethodInvocation:contains
MethodInvocation:contains
MethodInvocation:charAt
MethodInvocation:equals
MethodInvocation:toLowerCase
MethodInvocation:validFileName
Method-name:beginSnapshot
Method-returnType:void
Method-parameters:[final ClusterState clusterState, final SnapshotsInProgress.Entry snapshot, final boolean partial, final ActionListener<Snapshot> userCreateSnapshotListener]
Class:CleanupAfterErrorListener
Field:snapshot
Field:snapshotCreated
Field:userCreateSnapshotListener
Field:e
Method-name:CleanupAfterErrorListener
Method-returnType:null
Method-parameters:[SnapshotsInProgress.Entry snapshot, boolean snapshotCreated, ActionListener<Snapshot> userCreateSnapshotListener, Exception e]
FieldAccess:snapshot
FieldAccess:snapshotCreated
FieldAccess:userCreateSnapshotListener
FieldAccess:e
Method-name:onResponse
Method-returnType:void
Method-parameters:[SnapshotInfo snapshotInfo]
MethodInvocation:cleanupAfterError
FieldAccess:e
Method-name:onFailure
Method-returnType:void
Method-parameters:[Exception e]
MethodInvocation:addSuppressed
FieldAccess:e
MethodInvocation:cleanupAfterError
Method-name:onNoLongerMaster
Method-returnType:void
Method-parameters:[]
MethodInvocation:onFailure
Method-name:cleanupAfterError
Method-returnType:void
Method-parameters:[Exception exception]
MethodInvocation:finalizeSnapshot
MethodInvocation:repository
MethodInvocation:getRepository
MethodInvocation:snapshot
MethodInvocation:getSnapshotId
MethodInvocation:snapshot
MethodInvocation:indices
MethodInvocation:startTime
MethodInvocation:detailedMessage
MethodInvocation:emptyList
MethodInvocation:getRepositoryStateId
MethodInvocation:includeGlobalState
MethodInvocation:addSuppressed
MethodInvocation:warn
MethodInvocation:snapshot
MethodInvocation:onFailure
Method-name:inProgressSnapshot
Method-returnType:SnapshotInfo
Method-parameters:[SnapshotsInProgress.Entry entry]
MethodInvocation:getSnapshotId
MethodInvocation:snapshot
MethodInvocation:collect
MethodInvocation:map
MethodInvocation:stream
MethodInvocation:indices
MethodInvocation:toList
MethodInvocation:startTime
MethodInvocation:includeGlobalState
Method-name:currentSnapshots
Method-returnType:List<SnapshotsInProgress.Entry>
Method-parameters:[final String repository, final List<String> snapshots]
MethodInvocation:custom
MethodInvocation:state
MethodInvocation:isEmpty
MethodInvocation:entries
MethodInvocation:emptyList
MethodInvocation:equals
MethodInvocation:entries
MethodInvocation:size
MethodInvocation:entries
MethodInvocation:get
MethodInvocation:entries
MethodInvocation:equals
MethodInvocation:getRepository
MethodInvocation:snapshot
MethodInvocation:emptyList
MethodInvocation:isEmpty
MethodInvocation:equals
MethodInvocation:getName
MethodInvocation:getSnapshotId
MethodInvocation:snapshot
MethodInvocation:entries
MethodInvocation:emptyList
MethodInvocation:entries
MethodInvocation:entries
MethodInvocation:equals
MethodInvocation:getRepository
MethodInvocation:snapshot
MethodInvocation:isEmpty
MethodInvocation:equals
MethodInvocation:getName
MethodInvocation:getSnapshotId
MethodInvocation:snapshot
MethodInvocation:add
MethodInvocation:add
MethodInvocation:unmodifiableList
Method-name:snapshotShards
Method-returnType:Map<ShardId,IndexShardSnapshotStatus>
Method-parameters:[final String repositoryName, final RepositoryData repositoryData, final SnapshotInfo snapshotInfo]
MethodInvocation:repository
MethodInvocation:indices
MethodInvocation:resolveIndexId
MethodInvocation:getSnapshotIndexMetaData
MethodInvocation:snapshotId
MethodInvocation:getNumberOfShards
MethodInvocation:getIndex
MethodInvocation:findShardFailure
MethodInvocation:shardFailures
MethodInvocation:put
MethodInvocation:newFailed
MethodInvocation:reason
MethodInvocation:state
MethodInvocation:newFailed
MethodInvocation:getShardSnapshotStatus
MethodInvocation:snapshotId
MethodInvocation:version
MethodInvocation:put
MethodInvocation:unmodifiableMap
Method-name:findShardFailure
Method-returnType:SnapshotShardFailure
Method-parameters:[List<SnapshotShardFailure> shardFailures, ShardId shardId]
MethodInvocation:equals
MethodInvocation:getIndexName
MethodInvocation:index
MethodInvocation:getId
MethodInvocation:shardId
Method-name:applyClusterState
Method-returnType:void
Method-parameters:[ClusterChangedEvent event]
MethodInvocation:localNodeMaster
MethodInvocation:custom
MethodInvocation:state
MethodInvocation:isLocalNodeElectedMaster
MethodInvocation:nodes
MethodInvocation:previousState
MethodInvocation:removedNodesCleanupNeeded
MethodInvocation:removedNodes
MethodInvocation:nodesDelta
MethodInvocation:processSnapshotsOnRemovedNodes
MethodInvocation:routingTableChanged
MethodInvocation:waitingShardsStartedOrUnassigned
MethodInvocation:processStartedShards
MethodInvocation:forEach
MethodInvocation:filter
MethodInvocation:stream
MethodInvocation:entries
MethodInvocation:completed
MethodInvocation:state
MethodInvocation:contains
MethodInvocation:snapshot
MethodInvocation:state
MethodInvocation:completed
MethodInvocation:values
MethodInvocation:shards
MethodInvocation:finalizeSnapshotDeletionFromPreviousMaster
MethodInvocation:warn
Method-name:finalizeSnapshotDeletionFromPreviousMaster
Method-returnType:void
Method-parameters:[ClusterChangedEvent event]
Method-name:processSnapshotsOnRemovedNodes
Method-returnType:void
Method-parameters:[]
MethodInvocation:submitStateUpdateTask
Method-name:execute
Method-returnType:ClusterState
Method-parameters:[ClusterState currentState]
MethodInvocation:nodes
MethodInvocation:custom
MethodInvocation:entries
MethodInvocation:state
MethodInvocation:state
MethodInvocation:builder
MethodInvocation:shards
MethodInvocation:completed
MethodInvocation:state
MethodInvocation:nodeId
MethodInvocation:nodeExists
MethodInvocation:nodeId
MethodInvocation:put
MethodInvocation:warn
MethodInvocation:nodeId
MethodInvocation:put
MethodInvocation:nodeId
MethodInvocation:build
MethodInvocation:completed
MethodInvocation:state
MethodInvocation:completed
MethodInvocation:values
MethodInvocation:state
MethodInvocation:add
MethodInvocation:state
MethodInvocation:contains
MethodInvocation:snapshot
MethodInvocation:shards
MethodInvocation:add
MethodInvocation:deleteSnapshot
MethodInvocation:snapshot
Method-name:onResponse
Method-returnType:void
Method-parameters:[Void aVoid]
MethodInvocation:debug
MethodInvocation:snapshot
Method-name:onFailure
Method-returnType:void
Method-parameters:[Exception e]
MethodInvocation:warn
MethodInvocation:snapshot
MethodInvocation:getRepositoryStateId
MethodInvocation:build
MethodInvocation:putCustom
MethodInvocation:builder
MethodInvocation:unmodifiableList
Method-name:onFailure
Method-returnType:void
Method-parameters:[String source, Exception e]
MethodInvocation:warn
Method-name:processStartedShards
Method-returnType:void
Method-parameters:[]
MethodInvocation:submitStateUpdateTask
Method-name:execute
Method-returnType:ClusterState
Method-parameters:[ClusterState currentState]
MethodInvocation:routingTable
MethodInvocation:custom
MethodInvocation:entries
MethodInvocation:state
MethodInvocation:processWaitingShards
MethodInvocation:shards
MethodInvocation:completed
MethodInvocation:state
MethodInvocation:completed
MethodInvocation:values
MethodInvocation:add
MethodInvocation:build
MethodInvocation:putCustom
MethodInvocation:builder
MethodInvocation:unmodifiableList
Method-name:onFailure
Method-returnType:void
Method-parameters:[String source, Exception e]
MethodInvocation:warn
Method-name:processWaitingShards
Method-returnType:ImmutableOpenMap<ShardId,ShardSnapshotStatus>
Method-parameters:[ImmutableOpenMap<ShardId,ShardSnapshotStatus> snapshotShards, RoutingTable routingTable]
MethodInvocation:builder
MethodInvocation:state
MethodInvocation:index
MethodInvocation:getIndex
MethodInvocation:shard
MethodInvocation:id
MethodInvocation:primaryShard
MethodInvocation:started
MethodInvocation:primaryShard
MethodInvocation:trace
MethodInvocation:nodeId
MethodInvocation:put
MethodInvocation:currentNodeId
MethodInvocation:primaryShard
MethodInvocation:initializing
MethodInvocation:primaryShard
MethodInvocation:relocating
MethodInvocation:primaryShard
MethodInvocation:put
MethodInvocation:warn
MethodInvocation:nodeId
MethodInvocation:put
MethodInvocation:nodeId
MethodInvocation:put
MethodInvocation:build
Method-name:waitingShardsStartedOrUnassigned
Method-returnType:boolean
Method-parameters:[SnapshotsInProgress snapshotsInProgress, ClusterChangedEvent event]
MethodInvocation:entries
MethodInvocation:state
MethodInvocation:keys
MethodInvocation:waitingIndices
MethodInvocation:indexRoutingTableChanged
MethodInvocation:index
MethodInvocation:getRoutingTable
MethodInvocation:state
MethodInvocation:get
MethodInvocation:waitingIndices
MethodInvocation:primaryShard
MethodInvocation:shard
MethodInvocation:id
MethodInvocation:started
MethodInvocation:unassigned
Method-name:removedNodesCleanupNeeded
Method-returnType:boolean
Method-parameters:[SnapshotsInProgress snapshotsInProgress, List<DiscoveryNode> removedNodes]
MethodInvocation:isEmpty
MethodInvocation:anyMatch
MethodInvocation:flatMap
MethodInvocation:stream
MethodInvocation:entries
MethodInvocation:map
MethodInvocation:filter
MethodInvocation:stream
MethodInvocation:spliterator
MethodInvocation:valuesIt
MethodInvocation:shards
MethodInvocation:completed
MethodInvocation:state
MethodInvocation:collect
MethodInvocation:map
MethodInvocation:stream
MethodInvocation:toSet
Method-name:indicesWithMissingShards
Method-returnType:Tuple<Set<String>,Set<String>>
Method-parameters:[ImmutableOpenMap<ShardId,SnapshotsInProgress.ShardSnapshotStatus> shards, MetaData metaData]
MethodInvocation:state
MethodInvocation:hasIndex
MethodInvocation:getName
MethodInvocation:getIndex
MethodInvocation:getState
MethodInvocation:getIndexSafe
MethodInvocation:getIndex
MethodInvocation:add
MethodInvocation:getName
MethodInvocation:getIndex
MethodInvocation:add
MethodInvocation:getName
MethodInvocation:getIndex
Method-name:endSnapshot
Method-returnType:void
Method-parameters:[final SnapshotsInProgress.Entry entry]
MethodInvocation:add
MethodInvocation:snapshot
MethodInvocation:execute
MethodInvocation:executor
Method-name:doRun
Method-returnType:void
Method-parameters:[]
MethodInvocation:snapshot
MethodInvocation:repository
MethodInvocation:getRepository
MethodInvocation:failure
MethodInvocation:trace
MethodInvocation:state
MethodInvocation:shards
MethodInvocation:failed
MethodInvocation:state
MethodInvocation:add
MethodInvocation:nodeId
MethodInvocation:reason
MethodInvocation:finalizeSnapshot
MethodInvocation:getSnapshotId
MethodInvocation:indices
MethodInvocation:startTime
MethodInvocation:size
MethodInvocation:shards
MethodInvocation:unmodifiableList
MethodInvocation:getRepositoryStateId
MethodInvocation:includeGlobalState
MethodInvocation:removeSnapshotFromClusterState
MethodInvocation:info
MethodInvocation:state
Method-name:onFailure
Method-returnType:void
Method-parameters:[final Exception e]
MethodInvocation:snapshot
MethodInvocation:warn
MethodInvocation:removeSnapshotFromClusterState
Method-name:removeSnapshotFromClusterState
Method-returnType:void
Method-parameters:[final Snapshot snapshot, final SnapshotInfo snapshotInfo, final Exception e]
MethodInvocation:removeSnapshotFromClusterState
Method-name:removeSnapshotFromClusterState
Method-returnType:void
Method-parameters:[final Snapshot snapshot, @Nullable SnapshotInfo snapshotInfo, final Exception failure, @Nullable CleanupAfterErrorListener listener]
MethodInvocation:submitStateUpdateTask
Method-name:execute
Method-returnType:ClusterState
Method-parameters:[ClusterState currentState]
MethodInvocation:custom
MethodInvocation:entries
MethodInvocation:equals
MethodInvocation:snapshot
MethodInvocation:add
MethodInvocation:build
MethodInvocation:putCustom
MethodInvocation:builder
MethodInvocation:unmodifiableList
Method-name:onFailure
Method-returnType:void
Method-parameters:[String source, Exception e]
MethodInvocation:warn
MethodInvocation:remove
MethodInvocation:onFailure
Method-name:onNoLongerMaster
Method-returnType:void
Method-parameters:[String source]
MethodInvocation:remove
MethodInvocation:onNoLongerMaster
Method-name:clusterStateProcessed
Method-returnType:void
Method-parameters:[String source, ClusterState oldState, ClusterState newState]
MethodInvocation:remove
MethodInvocation:onFailure
MethodInvocation:onResponse
MethodInvocation:warn
MethodInvocation:remove
MethodInvocation:onResponse
Method-name:deleteSnapshot
Method-returnType:void
Method-parameters:[final String repositoryName, final String snapshotName, final ActionListener<Void> listener, final boolean immediatePriority]
MethodInvocation:repository
MethodInvocation:getRepositoryData
MethodInvocation:findFirst
MethodInvocation:filter
MethodInvocation:stream
MethodInvocation:getIncompatibleSnapshotIds
MethodInvocation:equals
MethodInvocation:getName
MethodInvocation:isPresent
MethodInvocation:findFirst
MethodInvocation:filter
MethodInvocation:stream
MethodInvocation:getSnapshotIds
MethodInvocation:equals
MethodInvocation:getName
MethodInvocation:getGenId
MethodInvocation:isPresent
MethodInvocation:findFirst
MethodInvocation:filter
MethodInvocation:stream
MethodInvocation:currentSnapshots
MethodInvocation:emptyList
MethodInvocation:equals
MethodInvocation:getName
MethodInvocation:getSnapshotId
MethodInvocation:snapshot
MethodInvocation:isPresent
MethodInvocation:map
MethodInvocation:getSnapshotId
MethodInvocation:snapshot
MethodInvocation:getRepositoryStateId
MethodInvocation:get
MethodInvocation:isPresent
MethodInvocation:deleteSnapshot
MethodInvocation:get
Method-name:deleteSnapshot
Method-returnType:void
Method-parameters:[final Snapshot snapshot, final ActionListener<Void> listener, final long repositoryStateId, final boolean immediatePriority]
Method-name:isRepositoryInUse
Method-returnType:boolean
Method-parameters:[ClusterState clusterState, String repository]
MethodInvocation:custom
MethodInvocation:entries
MethodInvocation:equals
MethodInvocation:getRepository
MethodInvocation:snapshot
MethodInvocation:custom
MethodInvocation:getEntries
MethodInvocation:equals
MethodInvocation:getRepository
MethodInvocation:getSnapshot
Method-name:deleteSnapshotFromRepository
Method-returnType:void
Method-parameters:[Snapshot snapshot, @Nullable ActionListener<Void> listener, long repositoryStateId]
MethodInvocation:execute
MethodInvocation:executor
MethodInvocation:repository
MethodInvocation:getRepository
MethodInvocation:deleteSnapshot
MethodInvocation:getSnapshotId
MethodInvocation:info
MethodInvocation:removeSnapshotDeletionFromClusterState
MethodInvocation:removeSnapshotDeletionFromClusterState
Method-name:removeSnapshotDeletionFromClusterState
Method-returnType:void
Method-parameters:[final Snapshot snapshot, @Nullable final Exception failure, @Nullable final ActionListener<Void> listener]
Method-name:shards
Method-returnType:ImmutableOpenMap<ShardId,SnapshotsInProgress.ShardSnapshotStatus>
Method-parameters:[ClusterState clusterState, List<IndexId> indices]
MethodInvocation:builder
MethodInvocation:metaData
MethodInvocation:getName
MethodInvocation:index
MethodInvocation:put
MethodInvocation:getState
MethodInvocation:getNumberOfShards
MethodInvocation:getIndex
MethodInvocation:put
MethodInvocation:index
MethodInvocation:getRoutingTable
MethodInvocation:getNumberOfShards
MethodInvocation:getIndex
MethodInvocation:primaryShard
MethodInvocation:shard
MethodInvocation:assignedToNode
MethodInvocation:put
MethodInvocation:relocating
MethodInvocation:initializing
MethodInvocation:put
MethodInvocation:currentNodeId
MethodInvocation:started
MethodInvocation:put
MethodInvocation:currentNodeId
MethodInvocation:put
MethodInvocation:currentNodeId
MethodInvocation:put
MethodInvocation:build
Method-name:checkIndexDeletion
Method-returnType:void
Method-parameters:[ClusterState currentState, Set<IndexMetaData> indices]
MethodInvocation:indicesToFailForCloseOrDeletion
Method-name:checkIndexClosing
Method-returnType:void
Method-parameters:[ClusterState currentState, Set<IndexMetaData> indices]
MethodInvocation:indicesToFailForCloseOrDeletion
Method-name:indicesToFailForCloseOrDeletion
Method-returnType:Set<Index>
Method-parameters:[ClusterState currentState, Set<IndexMetaData> indices]
MethodInvocation:custom
MethodInvocation:entries
MethodInvocation:partial
MethodInvocation:state
MethodInvocation:indices
MethodInvocation:index
MethodInvocation:metaData
MethodInvocation:getName
MethodInvocation:contains
MethodInvocation:add
MethodInvocation:getIndex
MethodInvocation:shards
MethodInvocation:completed
MethodInvocation:state
MethodInvocation:index
MethodInvocation:metaData
MethodInvocation:getIndex
MethodInvocation:contains
MethodInvocation:add
MethodInvocation:getIndex
Method-name:addListener
Method-returnType:void
Method-parameters:[Snapshot snapshot, ActionListener<SnapshotInfo> listener]
MethodInvocation:add
MethodInvocation:computeIfAbsent
Method-name:doStart
Method-returnType:void
Method-parameters:[]
Method-name:doStop
Method-returnType:void
Method-parameters:[]
Method-name:doClose
Method-returnType:void
Method-parameters:[]
MethodInvocation:removeApplier
Method-name:getRepositoriesService
Method-returnType:RepositoriesService
Method-parameters:[]
