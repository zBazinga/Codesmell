Class:GatewayMetaState
Field:logger
MethodInvocation:getLogger
Field:nodeEnv
Field:metaStateService
Field:settings
Field:clusterService
Field:indicesService
Field:transportService
Field:previousManifest
Field:previousClusterState
Field:incrementalWrite
Method-name:GatewayMetaState
Method-returnType:null
Method-parameters:[Settings settings, NodeEnvironment nodeEnv, MetaStateService metaStateService, MetaDataIndexUpgradeService metaDataIndexUpgradeService, MetaDataUpgrader metaDataUpgrader, TransportService transportService, ClusterService clusterService, IndicesService indicesService]
FieldAccess:settings
FieldAccess:nodeEnv
FieldAccess:metaStateService
FieldAccess:transportService
FieldAccess:clusterService
FieldAccess:indicesService
MethodInvocation:upgradeMetaData
MethodInvocation:initializeClusterState
MethodInvocation:get
Method-name:initializeClusterState
Method-returnType:void
Method-parameters:[ClusterName clusterName]
MethodInvocation:nanoTime
MethodInvocation:loadFullState
MethodInvocation:v1
MethodInvocation:v2
MethodInvocation:build
MethodInvocation:metaData
MethodInvocation:version
MethodInvocation:builder
MethodInvocation:getClusterStateVersion
MethodInvocation:debug
MethodInvocation:timeValueMillis
MethodInvocation:nsecToMSec
MethodInvocation:nanoTime
Method-name:applyClusterStateUpdaters
Method-returnType:void
Method-parameters:[]
Method-name:upgradeMetaData
Method-returnType:void
Method-parameters:[MetaDataIndexUpgradeService metaDataIndexUpgradeService, MetaDataUpgrader metaDataUpgrader]
MethodInvocation:isMasterOrDataNode
MethodInvocation:loadFullState
MethodInvocation:v1
MethodInvocation:v2
MethodInvocation:upgradeMetaData
MethodInvocation:isGlobalStateEquals
MethodInvocation:writeGlobalState
MethodInvocation:getGlobalGeneration
MethodInvocation:getIndexGenerations
MethodInvocation:hasIndexMetaData
MethodInvocation:writeIndex
MethodInvocation:put
MethodInvocation:getIndex
MethodInvocation:getCurrentTerm
MethodInvocation:getClusterStateVersion
MethodInvocation:writeManifestAndCleanup
MethodInvocation:error
Method-name:isMasterOrDataNode
Method-returnType:boolean
Method-parameters:[]
MethodInvocation:isMasterNode
MethodInvocation:isDataNode
Method-name:getMetaData
Method-returnType:MetaData
Method-parameters:[]
MethodInvocation:metaData
Method-name:applyClusterState
Method-returnType:void
Method-parameters:[ClusterChangedEvent event]
MethodInvocation:isMasterOrDataNode
MethodInvocation:disableStatePersistence
MethodInvocation:blocks
MethodInvocation:state
MethodInvocation:term
MethodInvocation:state
MethodInvocation:getCurrentTerm
MethodInvocation:innerSetCurrentTerm
MethodInvocation:term
MethodInvocation:state
MethodInvocation:updateClusterState
MethodInvocation:state
MethodInvocation:previousState
MethodInvocation:warn
Method-name:getCurrentTerm
Method-returnType:long
Method-parameters:[]
MethodInvocation:getCurrentTerm
Method-name:getLastAcceptedState
Method-returnType:ClusterState
Method-parameters:[]
Method-name:setCurrentTerm
Method-returnType:void
Method-parameters:[long currentTerm]
MethodInvocation:innerSetCurrentTerm
MethodInvocation:error
MethodInvocation:rethrowAsErrorOrUncheckedException
Method-name:innerSetCurrentTerm
Method-returnType:void
Method-parameters:[long currentTerm]
MethodInvocation:getClusterStateVersion
MethodInvocation:getGlobalGeneration
MethodInvocation:getIndexGenerations
MethodInvocation:writeManifestAndCleanup
Method-name:setLastAcceptedState
Method-returnType:void
Method-parameters:[ClusterState clusterState]
MethodInvocation:term
MethodInvocation:term
MethodInvocation:updateClusterState
MethodInvocation:error
MethodInvocation:version
MethodInvocation:rethrowAsErrorOrUncheckedException
Class:AtomicClusterStateWriter
Field:FINISHED_MSG
Field:commitCleanupActions
Field:rollbackCleanupActions
Field:previousManifest
Field:metaStateService
Field:finished
Method-name:AtomicClusterStateWriter
Method-returnType:null
Method-parameters:[MetaStateService metaStateService, Manifest previousManifest]
Method-name:writeGlobalState
Method-returnType:long
Method-parameters:[String reason, MetaData metaData]
Method-name:writeIndex
Method-returnType:long
Method-parameters:[String reason, IndexMetaData metaData]
Method-name:writeManifestAndCleanup
Method-returnType:long
Method-parameters:[String reason, Manifest manifest]
Method-name:rollback
Method-returnType:void
Method-parameters:[]
MethodInvocation:forEach
Method-name:updateClusterState
Method-returnType:void
Method-parameters:[ClusterState newState, ClusterState previousState]
MethodInvocation:metaData
MethodInvocation:writeGlobalState
MethodInvocation:writeIndicesMetadata
MethodInvocation:getCurrentTerm
MethodInvocation:version
MethodInvocation:writeManifest
Method-name:writeManifest
Method-returnType:void
Method-parameters:[AtomicClusterStateWriter writer, Manifest manifest]
MethodInvocation:equals
MethodInvocation:writeManifestAndCleanup
Method-name:writeIndicesMetadata
Method-returnType:Map<Index,Long>
Method-parameters:[AtomicClusterStateWriter writer, ClusterState newState, ClusterState previousState]
MethodInvocation:getIndexGenerations
MethodInvocation:getRelevantIndices
MethodInvocation:keySet
MethodInvocation:metaData
MethodInvocation:resolveIndexMetaDataActions
MethodInvocation:metaData
MethodInvocation:execute
MethodInvocation:put
MethodInvocation:getIndex
Method-name:writeGlobalState
Method-returnType:long
Method-parameters:[AtomicClusterStateWriter writer, MetaData newMetaData]
MethodInvocation:isGlobalStateEquals
MethodInvocation:metaData
MethodInvocation:writeGlobalState
MethodInvocation:getGlobalGeneration
Method-name:getRelevantIndices
Method-returnType:Set<Index>
Method-parameters:[ClusterState state, ClusterState previousState, Set<Index> previouslyWrittenIndices]
MethodInvocation:isDataOnlyNode
MethodInvocation:getRelevantIndicesOnDataOnlyNode
MethodInvocation:isMasterNode
MethodInvocation:getLocalNode
MethodInvocation:nodes
MethodInvocation:getRelevantIndicesForMasterEligibleNode
MethodInvocation:emptySet
Method-name:isDataOnlyNode
Method-returnType:boolean
Method-parameters:[ClusterState state]
MethodInvocation:isMasterNode
MethodInvocation:getLocalNode
MethodInvocation:nodes
MethodInvocation:isDataNode
MethodInvocation:getLocalNode
MethodInvocation:nodes
Method-name:upgradeMetaData
Method-returnType:MetaData
Method-parameters:[MetaData metaData, MetaDataIndexUpgradeService metaDataIndexUpgradeService, MetaDataUpgrader metaDataUpgrader]
MethodInvocation:builder
MethodInvocation:upgradeIndexMetaData
MethodInvocation:minimumIndexCompatibilityVersion
MethodInvocation:put
MethodInvocation:applyPluginUpgraders
MethodInvocation:getCustoms
MethodInvocation:applyPluginUpgraders
MethodInvocation:getTemplates
MethodInvocation:put
MethodInvocation:build
Method-name:applyPluginUpgraders
Method-returnType:boolean
Method-parameters:[ImmutableOpenMap<String,Data> existingData, UnaryOperator<Map<String,Data>> upgrader, Consumer<String> removeData, BiConsumer<String,Data> putData]
MethodInvocation:put
MethodInvocation:apply
MethodInvocation:equals
MethodInvocation:forEach
MethodInvocation:keySet
MethodInvocation:entrySet
MethodInvocation:accept
MethodInvocation:getKey
MethodInvocation:getValue
Method-name:resolveIndexMetaDataActions
Method-returnType:List<IndexMetaDataAction>
Method-parameters:[Map<Index,Long> previouslyWrittenIndices, Set<Index> relevantIndices, MetaData previousMetaData, MetaData newMetaData]
MethodInvocation:getIndexSafe
MethodInvocation:index
MethodInvocation:containsKey
MethodInvocation:add
MethodInvocation:getVersion
MethodInvocation:getVersion
MethodInvocation:add
MethodInvocation:add
MethodInvocation:get
Method-name:getRelevantIndicesOnDataOnlyNode
Method-returnType:Set<Index>
Method-parameters:[ClusterState state, ClusterState previousState, Set<Index> previouslyWrittenIndices]
MethodInvocation:node
MethodInvocation:getRoutingNodes
MethodInvocation:getLocalNodeId
MethodInvocation:nodes
MethodInvocation:add
MethodInvocation:index
MethodInvocation:metaData
MethodInvocation:equals
MethodInvocation:getState
MethodInvocation:index
MethodInvocation:metaData
MethodInvocation:getIndex
MethodInvocation:equals
MethodInvocation:getState
MethodInvocation:contains
MethodInvocation:getIndex
MethodInvocation:add
MethodInvocation:getIndex
Method-name:getRelevantIndicesForMasterEligibleNode
Method-returnType:Set<Index>
Method-parameters:[ClusterState state]
MethodInvocation:metaData
MethodInvocation:add
MethodInvocation:getIndex
Method-name:getIndex
Method-returnType:Index
Method-parameters:[]
Method-name:execute
Method-returnType:long
Method-parameters:[AtomicClusterStateWriter writer]
Class:KeepPreviousGeneration
Field:index
Field:generation
Method-name:KeepPreviousGeneration
Method-returnType:null
Method-parameters:[Index index, long generation]
FieldAccess:index
FieldAccess:generation
Method-name:getIndex
Method-returnType:Index
Method-parameters:[]
Method-name:execute
Method-returnType:long
Method-parameters:[AtomicClusterStateWriter writer]
Class:WriteNewIndexMetaData
Field:indexMetaData
Method-name:WriteNewIndexMetaData
Method-returnType:null
Method-parameters:[IndexMetaData indexMetaData]
FieldAccess:indexMetaData
Method-name:getIndex
Method-returnType:Index
Method-parameters:[]
MethodInvocation:getIndex
Method-name:execute
Method-returnType:long
Method-parameters:[AtomicClusterStateWriter writer]
MethodInvocation:writeIndex
Class:WriteChangedIndexMetaData
Field:newIndexMetaData
Field:oldIndexMetaData
Method-name:WriteChangedIndexMetaData
Method-returnType:null
Method-parameters:[IndexMetaData oldIndexMetaData, IndexMetaData newIndexMetaData]
FieldAccess:oldIndexMetaData
FieldAccess:newIndexMetaData
Method-name:getIndex
Method-returnType:Index
Method-parameters:[]
MethodInvocation:getIndex
Method-name:execute
Method-returnType:long
Method-parameters:[AtomicClusterStateWriter writer]
MethodInvocation:writeIndex
MethodInvocation:getVersion
MethodInvocation:getVersion
