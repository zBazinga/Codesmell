Class:TopologyAssign
Field:LOG
MethodInvocation:getLogger
Method-name:TopologyAssign
Method-returnType:null
Method-parameters:[]
Field:instance
Method-name:getInstance
Method-returnType:TopologyAssign
Method-parameters:[]
Field:nimbusData
Field:schedulers
Field:thread
Field:DEFAULT_SCHEDULER_NAME
Method-name:init
Method-returnType:void
Method-parameters:[NimbusData nimbusData]
FieldAccess:nimbusData
FieldAccess:schedulers
MethodInvocation:prepare
MethodInvocation:getConf
MethodInvocation:put
MethodInvocation:setName
MethodInvocation:setDaemon
MethodInvocation:start
Method-name:cleanup
Method-returnType:void
Method-parameters:[]
MethodInvocation:interrupt
Field:queue
Method-name:push
Method-returnType:void
Method-parameters:[TopologyAssignEvent event]
MethodInvocation:offer
Field:runFlag
Method-name:run
Method-returnType:void
Method-parameters:[]
MethodInvocation:info
MethodInvocation:take
MethodInvocation:doTopologyAssignment
MethodInvocation:cleanupDisappearedTopology
MethodInvocation:error
Method-name:pushTaskStartEvent
Method-returnType:void
Method-parameters:[Assignment oldAssignment, Assignment newAssignment, TopologyAssignEvent event]
MethodInvocation:setOldAssignment
MethodInvocation:setNewAssignment
MethodInvocation:setTopologyId
MethodInvocation:getTopologyId
MethodInvocation:get_all_taskInfo
MethodInvocation:getStormClusterState
MethodInvocation:getTopologyId
MethodInvocation:getTaskToComponent
MethodInvocation:getTaskToComponent
MethodInvocation:get_all_taskInfo
MethodInvocation:getStormClusterState
MethodInvocation:getTopologyId
MethodInvocation:setTask2Component
MethodInvocation:pushEvent
Method-name:doTopologyAssignment
Method-returnType:boolean
Method-parameters:[TopologyAssignEvent event]
MethodInvocation:isScratch
MethodInvocation:assignment_info
MethodInvocation:getStormClusterState
MethodInvocation:getTopologyId
MethodInvocation:mkAssignment
MethodInvocation:pushTaskStartEvent
MethodInvocation:setTopologyStatus
MethodInvocation:error
MethodInvocation:getTopologyId
MethodInvocation:fail
MethodInvocation:getMessage
MethodInvocation:backupAssignment
MethodInvocation:done
Method-name:cleanupDisappearedTopology
Method-returnType:void
Method-parameters:[]
MethodInvocation:getStormClusterState
MethodInvocation:active_storms
MethodInvocation:get_cleanup_ids
MethodInvocation:remove
MethodInvocation:info
MethodInvocation:try_remove_storm
MethodInvocation:remove
MethodInvocation:getTaskHeartbeatsCache
MethodInvocation:remove
MethodInvocation:getTasksHeartbeat
MethodInvocation:removeTopologyTaskTimeout
MethodInvocation:getKeyListFromId
MethodInvocation:cleanup_keys
MethodInvocation:getBlobStore
MethodInvocation:getStormClusterState
Method-name:get_cleanup_ids
Method-returnType:Set<String>
Method-parameters:[StormClusterState clusterState, List<String> activeTopologies]
MethodInvocation:task_storms
MethodInvocation:heartbeat_storms
MethodInvocation:task_error_storms
MethodInvocation:assignments
MethodInvocation:get_metrics
MethodInvocation:code_ids
MethodInvocation:getBlobStore
MethodInvocation:keySet
MethodInvocation:buildMap
MethodInvocation:getPendingSubmitTopologies
MethodInvocation:addAll
MethodInvocation:addAll
MethodInvocation:addAll
MethodInvocation:addAll
MethodInvocation:addAll
MethodInvocation:addAll
MethodInvocation:removeAll
MethodInvocation:removeAll
MethodInvocation:removeAll
MethodInvocation:removeAll
MethodInvocation:info
Method-name:setTopologyStatus
Method-returnType:void
Method-parameters:[TopologyAssignEvent event]
MethodInvocation:getStormClusterState
MethodInvocation:getTopologyId
MethodInvocation:getTopologyName
MethodInvocation:getGroup
MethodInvocation:getOldStatus
MethodInvocation:getOldStatus
MethodInvocation:isEnablePerformanceMetrics
MethodInvocation:getConf
MethodInvocation:storm_base
MethodInvocation:current_time_secs
MethodInvocation:setEnableMonitor
MethodInvocation:activate_storm
MethodInvocation:update_storm
MethodInvocation:set_storm_monitor
MethodInvocation:setTopologyName
MethodInvocation:getStormName
MethodInvocation:info
Method-name:prepareTopologyAssign
Method-returnType:TopologyAssignContext
Method-parameters:[TopologyAssignEvent event]
MethodInvocation:getTopologyId
MethodInvocation:setTopologyId
MethodInvocation:get_topologyMasterId
MethodInvocation:get
MethodInvocation:getTasksHeartbeat
MethodInvocation:setTopologyMasterTaskId
MethodInvocation:info
MethodInvocation:getConf
MethodInvocation:read_nimbus_topology_conf
MethodInvocation:getBlobStore
MethodInvocation:read_nimbus_topology_code
MethodInvocation:getBlobStore
MethodInvocation:setRawTopology
MethodInvocation:info
MethodInvocation:readDefaultConfig
MethodInvocation:info
MethodInvocation:get
MethodInvocation:readDefaultConfig
MethodInvocation:put
MethodInvocation:get
MethodInvocation:readDefaultConfig
MethodInvocation:putAll
MethodInvocation:putAll
MethodInvocation:setStormConf
MethodInvocation:getStormClusterState
MethodInvocation:get_all_SupervisorInfo
MethodInvocation:entrySet
MethodInvocation:getValue
MethodInvocation:setAvailableWorkerPorts
MethodInvocation:getWorkerPorts
MethodInvocation:getAliveSupervsByHb
MethodInvocation:size
MethodInvocation:get_all_task_component
MethodInvocation:setTaskToComponent
MethodInvocation:keySet
MethodInvocation:size
MethodInvocation:warn
MethodInvocation:setAllTaskIds
MethodInvocation:assignment_info
MethodInvocation:isTaskDead
MethodInvocation:getWorkerByTaskId
MethodInvocation:addAll
MethodInvocation:getTasks
MethodInvocation:getDeadTasks
MethodInvocation:getWorkers
MethodInvocation:addAll
MethodInvocation:removeAll
MethodInvocation:getUnstoppedSlots
MethodInvocation:setDeadTaskIds
MethodInvocation:setUnstoppedTaskIds
MethodInvocation:getFreeSlots
MethodInvocation:setCluster
MethodInvocation:setAssignType
MethodInvocation:assignment_bak
MethodInvocation:getTopologyName
MethodInvocation:setOldAssignment
MethodInvocation:getAssignment
MethodInvocation:warn
MethodInvocation:setOldAssignment
MethodInvocation:isScratch
MethodInvocation:setAssignType
MethodInvocation:setIsReassign
MethodInvocation:isReassign
MethodInvocation:getUnstoppedWorkers
MethodInvocation:setUnstoppedWorkers
MethodInvocation:setAssignType
MethodInvocation:getUnstoppedWorkers
MethodInvocation:setUnstoppedWorkers
Method-name:mkAssignment
Method-returnType:Assignment
Method-parameters:[TopologyAssignEvent event]
MethodInvocation:getTopologyId
MethodInvocation:info
MethodInvocation:prepareTopologyAssign
MethodInvocation:local_mode
MethodInvocation:getConf
MethodInvocation:get
MethodInvocation:assignTasks
MethodInvocation:mkLocalAssignment
MethodInvocation:size
MethodInvocation:getTopologyNodeHost
MethodInvocation:getCluster
MethodInvocation:getOldAssignment
MethodInvocation:getTaskStartTimes
MethodInvocation:getOldAssignment
MethodInvocation:get
MethodInvocation:getConf
MethodInvocation:isScaleTopology
MethodInvocation:setAssignmentType
MethodInvocation:getStormClusterState
MethodInvocation:set_assignment
MethodInvocation:updateTaskHbStartTime
MethodInvocation:updateTopologyTaskTimeout
MethodInvocation:info
Method-name:mkLocalAssignment
Method-returnType:Set<ResourceWorkerSlot>
Method-parameters:[TopologyAssignContext context]
MethodInvocation:getCluster
MethodInvocation:size
MethodInvocation:entrySet
MethodInvocation:getKey
MethodInvocation:getValue
MethodInvocation:hasNext
MethodInvocation:iterator
MethodInvocation:getAvailableWorkerPorts
MethodInvocation:next
MethodInvocation:iterator
MethodInvocation:getAvailableWorkerPorts
MethodInvocation:info
MethodInvocation:setTasks
MethodInvocation:getAllTaskIds
MethodInvocation:setHostname
MethodInvocation:getHostName
MethodInvocation:add
Method-name:getTaskStartTimes
Method-returnType:Map<Integer,Integer>
Method-parameters:[TopologyAssignContext context, NimbusData nimbusData, String topologyId, Assignment existingAssignment, Set<ResourceWorkerSlot> workers]
MethodInvocation:getAssignType
MethodInvocation:current_time_secs
MethodInvocation:getTasks
MethodInvocation:put
MethodInvocation:getTaskStartTimeSecs
MethodInvocation:putAll
MethodInvocation:getWorkers
MethodInvocation:getWorkers
MethodInvocation:getNewOrChangedTaskIds
MethodInvocation:current_time_secs
MethodInvocation:put
MethodInvocation:removeTopologyTaskHb
MethodInvocation:getRemovedTaskIds
MethodInvocation:remove
MethodInvocation:removeTopologyTaskHb
MethodInvocation:info
Method-name:getTopologyNodeHost
Method-returnType:Map<String,String>
Method-parameters:[Map<String,SupervisorInfo> supervisorMap, Assignment existingAssignment, Set<ResourceWorkerSlot> workers]
MethodInvocation:add
MethodInvocation:getNodeId
MethodInvocation:putAll
MethodInvocation:getNodeHost
MethodInvocation:getNodeHost
MethodInvocation:putAll
MethodInvocation:containsKey
MethodInvocation:put
MethodInvocation:get
MethodInvocation:warn
Method-name:getNewOrChangedTaskIds
Method-returnType:Set<Integer>
Method-parameters:[Set<ResourceWorkerSlot> oldWorkers, Set<ResourceWorkerSlot> workers]
MethodInvocation:HostPortToWorkerMap
MethodInvocation:get
MethodInvocation:getHostPort
MethodInvocation:getTasks
MethodInvocation:getTasks
MethodInvocation:contains
MethodInvocation:add
MethodInvocation:getTasks
MethodInvocation:addAll
MethodInvocation:getTasks
Method-name:getRemovedTaskIds
Method-returnType:Set<Integer>
Method-parameters:[Set<ResourceWorkerSlot> oldWorkers, Set<ResourceWorkerSlot> workers]
MethodInvocation:getTaskSetFromWorkerSet
MethodInvocation:getTaskSetFromWorkerSet
MethodInvocation:contains
MethodInvocation:add
Method-name:getTaskSetFromWorkerSet
Method-returnType:Set<Integer>
Method-parameters:[Set<ResourceWorkerSlot> workers]
MethodInvocation:addAll
MethodInvocation:getTasks
Method-name:HostPortToWorkerMap
Method-returnType:HashMap<String,ResourceWorkerSlot>
Method-parameters:[Set<ResourceWorkerSlot> workers]
MethodInvocation:put
MethodInvocation:getHostPort
Method-name:sortSlots
Method-returnType:List<WorkerSlot>
Method-parameters:[Set<WorkerSlot> allSlots, int needSlotNum]
MethodInvocation:getNodeId
MethodInvocation:get
MethodInvocation:put
MethodInvocation:add
MethodInvocation:entrySet
MethodInvocation:getValue
MethodInvocation:sort
Method-name:compare
Method-returnType:int
Method-parameters:[WorkerSlot first, WorkerSlot second]
MethodInvocation:getNodeId
MethodInvocation:getNodeId
MethodInvocation:equals
MethodInvocation:compareTo
MethodInvocation:getPort
MethodInvocation:getPort
MethodInvocation:values
MethodInvocation:sort
Method-name:compare
Method-returnType:int
Method-parameters:[List<WorkerSlot> o1, List<WorkerSlot> o2]
MethodInvocation:size
MethodInvocation:size
MethodInvocation:interleave_all
MethodInvocation:size
MethodInvocation:subList
Method-name:getUnstoppedWorkers
Method-returnType:Set<ResourceWorkerSlot>
Method-parameters:[Set<Integer> aliveTasks, Assignment existAssignment]
MethodInvocation:getWorkers
MethodInvocation:getTasks
MethodInvocation:contains
MethodInvocation:add
Method-name:getFreeSlots
Method-returnType:void
Method-parameters:[Map<String,SupervisorInfo> supervisorInfos, StormClusterState stormClusterState]
MethodInvocation:get_all_assignment
MethodInvocation:entrySet
MethodInvocation:getValue
MethodInvocation:getWorkers
MethodInvocation:get
MethodInvocation:getNodeId
MethodInvocation:remove
MethodInvocation:getAvailableWorkerPorts
MethodInvocation:getPort
Method-name:getAliveTasks
Method-returnType:Set<Integer>
Method-parameters:[String topologyId, Set<Integer> taskIds]
MethodInvocation:isTaskDead
MethodInvocation:add
Method-name:getDeadTasks
Method-returnType:Set<Integer>
Method-parameters:[String topologyId, Set<Integer> allTaskIds, Set<ResourceWorkerSlot> allWorkers]
MethodInvocation:isTaskDead
MethodInvocation:add
MethodInvocation:getTasks
MethodInvocation:contains
MethodInvocation:addAll
Method-name:backupAssignment
Method-returnType:void
Method-parameters:[Assignment assignment, TopologyAssignEvent event]
MethodInvocation:getTopologyId
MethodInvocation:getTopologyName
MethodInvocation:getStormClusterState
MethodInvocation:get_all_task_component
MethodInvocation:reverse_map
MethodInvocation:entrySet
MethodInvocation:getValue
MethodInvocation:sort
MethodInvocation:backup_assignment
MethodInvocation:warn
Method-name:getAliveSupervsByHb
Method-returnType:void
Method-parameters:[Map<String,SupervisorInfo> supervisorInfos, Map conf]
MethodInvocation:current_time_secs
MethodInvocation:parseInt
MethodInvocation:get
MethodInvocation:entrySet
MethodInvocation:getValue
MethodInvocation:getTimeSecs
MethodInvocation:warn
MethodInvocation:getHostName
MethodInvocation:add
MethodInvocation:getKey
MethodInvocation:remove
